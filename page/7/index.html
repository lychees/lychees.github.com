<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="default">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />




  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico?v=5.1.3">















<meta name="description" content="Valar Morghulis">
<meta property="og:type" content="website">
<meta property="og:title" content="AFAIK">
<meta property="og:url" content="roosephu.github.io/page/7/index.html">
<meta property="og:site_name" content="AFAIK">
<meta property="og:description" content="Valar Morghulis">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AFAIK">
<meta name="twitter:description" content="Valar Morghulis">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="roosephu.github.io/page/7/"/>





  <title>AFAIK</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-37094989-1', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">AFAIK</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Valar Dohaeris</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/04/18/UyHiP-2011-Nov/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/04/18/UyHiP-2011-Nov/" itemprop="url">UyHiP-2011-Nov</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-04-18T12:00:00+08:00">
                2013-04-18
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/04/18/UyHiP-2011-Nov/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/04/18/UyHiP-2011-Nov/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>居然自己做出来了所以说还是很简单的 23333</p>
<h1 id="problem">problem</h1>
<p>定义布尔的乘运算为 AND ，加运算为 OR 。定义一个 DNF （析取范式）为一个布尔函数，返回值为若干个若干个变量的积的和，例如 <span class="math inline">\(f(x_1, x_2, x_3) = x_1 x_2 + x_2 x_3\)</span> 即为一 DNF 。注意这里定义的 DNF 没有 NOT 。</p>
<p>定义一个对称函数为：接受若干个布尔量，返回一个布尔量，且参数的顺序与返回值是无关的。例如 <span class="math inline">\(f(x_1, x_2) = x_1 x_2\)</span> 即为一对称函数。</p>
<p>我们说一个函数 A 能用另一个函数 B 表达，当且仅当存在一组参数列表之间的对应关系 <span class="math inline">\(y_1 = x_{a_1}, y_2 = x_{a_2}, \dots, y_m = x_{a_m}\)</span> ，使得 <span class="math inline">\(A(x_1, x_2, \dots, x_n) = B(y_1, y_2, \dots, y_m)\)</span> 。例如函数 <span class="math inline">\(A(x_1, x_2, x_3)\)</span> 表示求 <span class="math inline">\(x_1, x_2, x_3\)</span> 的众数，可以得到 <span class="math inline">\(A(x_1, x_2, x_3) = x_1 x_2 + x_2 x_3 + x_3 x_1\)</span> ，令 <span class="math inline">\(B(x_1, x_2, x_3, x_4, x_5, x_6) = x_1 x_2 + x_3 x_4 + x_5 x_6\)</span> ，可以知道 A 能被 B 表达。</p>
<p>现在有两个问题：</p>
<ol type="1">
<li>对于所有的 DNF ，都可以找到一个对称函数使得其能表达这个 DNF ？</li>
<li>对于所有的对称函数，都可以找到一个 DNF 使得其能表达这个对称函数？</li>
</ol>
<p>题目似乎很绕……→_→ <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br></p>
<h1 id="solution">solution</h1>
<p>考虑任意一个对称函数，由于参数顺序是无关的，所以对于这个对称函数我们只关心它的参数中有多少个 1 有多少个 0 。换而言之，一个对称函数 A 等价于一个二元函数 <span class="math inline">\(f(a, b)\)</span> ，其中 <span class="math inline">\(a\)</span> 表示参数中 1 的个数， <span class="math inline">\(b\)</span> 表示参数 0 的个数。</p>
<p>再考虑一个 DNF 。可以发现 DNF 的值不会随变量的递增而递减，也就是说对于两组参数 <span class="math inline">\(x_1, x_2, \dots, x_n\)</span> 和 <span class="math inline">\(y_1, y_2, \dots, y_n\)</span> ，如果满足 <span class="math inline">\(f(x_1, x_2, \dots, x_n) = 1\)</span> 且 <span class="math inline">\(x_1 \leq y_1, x_2 \leq y_2, \dots, x_n \leq y_n\)</span> ，则一定有 <span class="math inline">\(f(y_1, y_2, \dots, y_n = 1\)</span> 。</p>
<p>所以 DNF 能表达的函数就少得多，考虑一个简单的对称函数 <span class="math inline">\(f(x)\)</span> 表示 NOT x ，可以发现 <span class="math inline">\(f\)</span> 是递减的，用 DNF 就表达不出来。所以问题二是错的，上面说的 <span class="math inline">\(f\)</span> 就是个反例。</p>
<p>而对于任意一个 DNF ，所有不同的参数列表是有限的。假设一个 DNF 有 <span class="math inline">\(n\)</span> 个参数，则有 <span class="math inline">\(2^n\)</span> 中不同的参数列表。考虑一个二元非布尔函数 <span class="math inline">\(f(a, b)\)</span> 保证 <span class="math inline">\(a + b= 2^n\)</span> 。那么 <span class="math inline">\(f\)</span> 就可以完整的表达整个 DNF ：我们对 DNF 的 <span class="math inline">\(n\)</span> 个参数进行二进制编码，可以确定一个 <span class="math inline">\([0, 2^n)\)</span> 之间的数作为 <span class="math inline">\(a\)</span> ， <span class="math inline">\(f\)</span> 根据输入的 <span class="math inline">\(a\)</span> 的即可返回答案。具体如何进行编码呢？我们让 <span class="math inline">\(x_i\)</span> 出现的 <span class="math inline">\(2^{i - 1}\)</span> 次即可。举个例子，一个 DNF <span class="math inline">\(A(x_1, x_2, x_3) = x_1 x_2 + x_2 x_3\)</span> ，我们构造的对应方式即为 <span class="math inline">\(B(x_1, x_2, x_2, x_3, x_3, x_3, x_3)\)</span> ，可以知道，一定存在一个 B 使得 B 能够表达出 A 。</p>
<h1 id="nonsense">nonsense</h1>
<p>明天早上要去深圳。不能太坑队友了是不，所以可能暂时不会更新了 →_→</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/04/17/TOAD-19/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/04/17/TOAD-19/" itemprop="url">TOAD-puzzle-19</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-04-17T12:00:00+08:00">
                2013-04-17
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/04/17/TOAD-19/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/04/17/TOAD-19/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>有点线性代数的味道。</p>
<h1 id="problem">problem</h1>
<p>有一个 <span class="math inline">\(n \times n\)</span> 的矩阵，每个格子内有一个数。你每次可以查询一个子矩阵的权值和，求找出主对角线上点的权值和的最少需要多少次查询。 <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br></p>
<h1 id="solution">solution</h1>
<p>可以证明至少要 <span class="math inline">\(n\)</span> 次查询，所以直接一个一个查询对角线就好了。</p>
<p>其实有个解法完全与线性代数无关 →_→</p>
<p>考虑 <span class="math inline">\(n\)</span> 个对角线格子的四条边界。易知每条边界都必须被某次查询的边界经过：若某条夹在格子 <span class="math inline">\(u, v\)</span> 之间边界没有被经过，则表示任意时刻 <span class="math inline">\(u, v\)</span> 均同时被查询或同时不被查询，也就是说我们至多能确定这两个值的和，而不能确定其中的一个。由于每次查询至多经过 4 条边界，而总共有 <span class="math inline">\(4n\)</span> 条边界，所以至少要查询 <span class="math inline">\(n\)</span> 次。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/04/15/TOAD-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/04/15/TOAD-3/" itemprop="url">TOAD-puzzle-3</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-04-15T12:00:00+08:00">
                2013-04-15
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/04/15/TOAD-3/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/04/15/TOAD-3/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一个经典的博弈论题。</p>
<h1 id="problem">problem</h1>
<p>有 <span class="math inline">\(n\)</span> 个石子，A B 两人博弈，A 先手。A 首先取若干个石子（至少一个，不能取完），然后 B 和 A 再轮流取石子，每次取的石子不能超过上次取的石子数，且至少取一个，无法操作的人输。求 <span class="math inline">\(n\)</span> 满足什么条件时先手必胜。</p>
<p>增强一下：如果不能超过上次取的石子数的两倍，求先手必胜的条件？如果不能超过 <span class="math inline">\(f(x)\)</span> （<span class="math inline">\(x\)</span> 表示上次取的石子数， <span class="math inline">\(f\)</span> 是一个非降函数），求先手必胜的条件？ <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br></p>
<h1 id="solution">solution</h1>
<p>令 <span class="math inline">\(H\)</span> 为先手必败的 <span class="math inline">\(n\)</span> ，易知 1 肯定在 <span class="math inline">\(H\)</span> 里。</p>
<p>接下来我们递推出 <span class="math inline">\(H\)</span> 。可以证明，如果 <span class="math inline">\(H_{i+1} = H_i + H_l\)</span> ，其中</p>
<p><span class="math display">\[H_l = \min_{x \leq i} \{H_x \| f(H_x) \geq H_i \}\]</span></p>
<p>我们证明，若 <span class="math inline">\(x &lt; H_l\)</span> 是必胜状态，则 <span class="math inline">\(H_i + x\)</span> 一定也是必胜状态。由于 <span class="math inline">\(x\)</span> 是必胜状态，所以先手一开始一定可以照着 <span class="math inline">\(x\)</span> 的必胜策略行动，且先手一定可以拿掉第 <span class="math inline">\(x\)</span> 个石子。接下来还剩 <span class="math inline">\(H_i\)</span> 个石子，一开始的先手变成了后手，所以先手一定可以必胜 。</p>
<p>若 <span class="math inline">\(x &lt; H_l\)</span> 是必败状态，则 <span class="math inline">\(H_i + x\)</span> 也是必胜状态。先手只需一开始拿走 <span class="math inline">\(x\)</span> 个石子，则还剩 <span class="math inline">\(H_i\)</span> 个石子，后手必败，所以先手必胜。</p>
<p>同样，我们可以证明 <span class="math inline">\(H_i + H_l\)</span> 是必败状态。若先手一开始拿走不小于 <span class="math inline">\(H_l\)</span> 个石子，则后手可以把剩下的所有石子拿完。若先手一开始拿走的石子数小于 <span class="math inline">\(H_l\)</span> ，则后手一定有策略拿到第 <span class="math inline">\(H_l\)</span> 个石子。此时还剩下 <span class="math inline">\(H_i\)</span> 个石子，先手尚未改变，所以先手必败。</p>
<p>当 <span class="math inline">\(f(x) = x\)</span> 时，可以得到 <span class="math inline">\(H = \{1, 2, 4, 8, \dots, 2^t\}\)</span> 。</p>
<p>当 <span class="math inline">\(f(x) = 2x\)</span> 时，可以得到 <span class="math inline">\(H = \{1, 2, 3, 5, 8, \dots, fib_t\}\)</span> 。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/04/13/UyHiP-2012-Nov/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/04/13/UyHiP-2012-Nov/" itemprop="url">UyHiP-2012-Nov</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-04-13T12:00:00+08:00">
                2013-04-13
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/04/13/UyHiP-2012-Nov/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/04/13/UyHiP-2012-Nov/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>似乎比较简单 →_→</p>
<h1 id="problem">problem</h1>
<p>令 <span class="math inline">\(x_1, x_2, \dots, x_n\)</span> 为 <span class="math inline">\(n\)</span> 个随机变量，易知 <span class="math inline">\(x\)</span> 的和 <span class="math inline">\(S\)</span> 服从正态分布， <span class="math inline">\(x^2_i\)</span> 服从 <span class="math inline">\(n\)</span> 个自由变量的卡方分布。</p>
<p>如果给定 <span class="math inline">\(S\)</span> ，求 <span class="math inline">\(x^2_i\)</span> 满足什么分布？ <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br></p>
<h1 id="solution">solution</h1>
<p>令 <span class="math inline">\(\bar{x} = \frac{S}{n}\)</span> ，我们有 <span class="math display">\[\sum (x_i - \bar{x})^2 = \sum x^2_i - n \bar{x}^2\]</span></p>
<p>注意到既然 <span class="math inline">\(S\)</span> 是固定的，则 <span class="math inline">\(\bar{x}\)</span> 也是固定的，于是 <span class="math inline">\(x^2_i\)</span> 满足 <span class="math inline">\(\frac{S^2}{n} + \chi^2(n - 1)\)</span> 分布。注意只有 <span class="math inline">\(n - 1\)</span> 个随机变量。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/04/12/treap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/04/12/treap/" itemprop="url">Treap</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-04-12T12:00:00+08:00">
                2013-04-12
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/04/12/treap/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/04/12/treap/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>treap 果然是一条好汉。</p>
<p>普通平衡树？treap 基本功能。fanhq 式的写法超级漂亮，基本不会写错（注意大于小于号即可）。原论文中说了 treap 的插入期望旋转两次，也就是说 insert 的时调用的 split 常数会很小。</p>
<p>关于权值的问题，我习惯搞个大根堆，因为懒得给 null 赋初始权值了。</p>
<p>splay 的拿手好戏，序列操作？由于 treap 支持 split/merge ，所以毫无压力。而且由于普通的 insert/erase 都涉及 split/merge 了，所以这是必备的。换句话说，treap 支持序列操作和 splay 一样天然。</p>
<p>另外，treap 还可以原生支持持久化，只需每次修改一个点时新建一个点代替就好了。一个小改动就是动态 weight ，因为 weight 不能持久化。内存占用什么的都是浮云。splay 要想持久化的话感觉比较囧，老教授的方法是多次（ <span class="math inline">\(O(\log n)\)</span> 次） deep-splay，即把最深的点旋上来。</p>
<p>根据 CLJ 的论文，我们可以知道 treap 还是重量平衡的。fanhq 的写法中 split/merge 需要完完整整重构树，但是复杂度分析类似。（代码量？都是浮云啦……）</p>
<p>目前就 finger search 不支持了？</p>
<p>代码量什么的，感觉和 splay 差不多了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/04/12/TOAD-6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/04/12/TOAD-6/" itemprop="url">TOAD-puzzle-6</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-04-12T12:00:00+08:00">
                2013-04-12
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/04/12/TOAD-6/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/04/12/TOAD-6/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>又是一个 Matrix67 大大翻译过的题。</p>
<h1 id="problem">problem</h1>
<p><span class="math inline">\(n\)</span> 个人围成一圈，第 <span class="math inline">\(i\)</span> 个人手中有一个数 <span class="math inline">\(a_i\)</span> 。现在重复执行以下两步：</p>
<ol type="1">
<li>如果 <span class="math inline">\(a_i\)</span> 是奇数，则把 <span class="math inline">\(a_i\)</span> 加 1</li>
<li><span class="math inline">\(a&#39;_i \leftarrow \frac{1}{2}(a_i + a_{i+1})\)</span></li>
</ol>
<p>证明：有限步后，所有的数一定相同。 <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br></p>
<h1 id="solution">solution</h1>
<p>考虑 <span class="math inline">\(a\)</span> 里面的最大值。考虑最小的一个 <span class="math inline">\(2^t\)</span> 大于最大值 <span class="math inline">\(a_x\)</span> 。显然 <span class="math inline">\(a_x\)</span> 怎么增加，最终是不可能超过 <span class="math inline">\(2^t\)</span> 的。</p>
<p>再考虑 <span class="math inline">\(a\)</span> 的和。由于最大值有限，所以和一定有限，易知有限步之后， <span class="math inline">\(a\)</span> 的和一定不变。</p>
<p>考虑 <span class="math inline">\(a\)</span> 和不变后的状态。则任意时刻所有的 <span class="math inline">\(a_i\)</span> 一定为偶数。我们考虑 <span class="math inline">\(a\)</span> 的平方和。 <span class="math display">\[\begin{array}{rcl} \sum a^2_i - \sum a&#39;^2_i &amp; = &amp; \sum a^2_i - \sum ( \frac{a_i + a_{i+1}}{2})^2 \  &amp; = &amp; \sum a^2_i - \sum (\frac{1}{2} a^2_i + a_i a_{i+1}) \  &amp; = &amp; \frac{1}{2} \sum (a_i - a_{i+1})^2 \  \end{array}\]</span></p>
<p>可以看到，如果 <span class="math inline">\(a\)</span> 不是全等的，则 <span class="math inline">\(a\)</span> 的平方和一定会减小。由于每次减小的量是至少是 <span class="math inline">\(\frac{1}{2}\)</span> ，所以经过有限次变换之后， <span class="math inline">\(a\)</span> 一定全部相同。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/04/11/CF-179/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/04/11/CF-179/" itemprop="url">Codeforces-179</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-04-11T12:00:00+08:00">
                2013-04-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/" itemprop="url" rel="index">
                    <span itemprop="name">Codeforces</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/04/11/CF-179/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/04/11/CF-179/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>这个坑有望被消掉。</p>
<p>XLk 出现了！沉寂多年的 XLk 终于出现了！XLk 你要重出江湖了吗……</p>
<p>状态终于有回来的迹象了。</p>
<h1 id="solution">solution</h1>
<h2 id="a">A</h2>
<p>两次点事件。第一次点事件把每次操作最后会被执行多少次搞出来，第二次就直接求答案了。</p>
<h2 id="b">B</h2>
<p>离线变成每次加点维护最短路。</p>
<p>首先我们求出新加的点 x 到其余点的最短路，这部分可以通过 2 个 for 来解决：假设我们要求 x 到 z 的最短路，先 for x 首先通过一条边到 y ，然后 y 到 z 的最短路已知，更新答案即可。</p>
<p>接着用 x 到其余点的最短路更新其余点对之间的最短路。</p>
<p>复杂度 <span class="math inline">\(O(n^3)\)</span> 。</p>
<h2 id="c">C</h2>
<p>dp 。令 <span class="math inline">\(f_{i, a, b}\)</span> 表示我们划了 <span class="math inline">\(i\)</span> 次船，现在我们这一边还有 <span class="math inline">\(a\)</span> 个 50kg 的， <span class="math inline">\(b\)</span> 个 100kg 的。然后枚举有多少个 50kg 的过去以及有多少个 100kg 的过去。当 <span class="math inline">\(i\)</span> 是偶数并且能够全部过去的时候就找到答案了。预处理一下组合数就好。</p>
<p>注意答案的上界是 <span class="math inline">\(4n\)</span> 而不是 <span class="math inline">\(3n\)</span> 。</p>
<p>复杂度 <span class="math inline">\(O(n^5)\)</span> 。</p>
## D

<p>没看懂题。先坑着吧。</p>
## E

<p>裸数据结构题。没啥好讲的。</p>
<p>注意到那个啥代价的，显然满足区间可加性，于是平衡树/动态线段树/离线离散化线段树都可以。</p>
<h1 id="situatation">
situatation
</h1>
<p>无意中看了一下 Registered participants ，大吃一惊居然有 xlk ……</p>
<p>先写 A 。想着为了避免溢出所有数组全部定为 int64 吧，于是手残 typedef int arr64 挂了一次。交了之后马上就反应过来了囧。于是挂的很惨 T_T</p>
<p>接着看 B 。由于以前做过这个题，所以写起来还是很顺手的。但是数组套数组写的我很不爽，后面突然想到 range-based for 完破啊。只可惜写完了 →_→</p>
<p>看完 C 稍微一想想到一个 dp ，以为只要把左边有多少个 50kg 多少个 100kg 的记下来就好，但是总觉得没拓扑序，于是决定加一维步数。我一开始以为回程至多只有 1 个，于是 WA 了 pretest 。后来想到，回程也要枚举，于是似乎又要枚举去程的两个量又要枚举归程的两个量复杂度会不会太高了。一想觉得自己脑残了，直接最暴力的一次一次的 dp 不就好了吗，一次只考虑一程。然后就过了。</p>
<p>然后看 D 没仔细看题。但觉得 E 是可做的，因为有若干人过了。看了题目后觉得是大水，决定写 treap 。写完 treap 后过不了样例，以为是我想错了这个题不能用 treap 做。于是扔掉重新写动态线段树写完就过了好爽。</p>
<p>只剩一点点时间了，等着慢慢度过，结果发现我的 C 被 hack 了……大囧。还是在离比赛还剩 90s 的时候被 hack 的。我想着应该是上界不够吧，但是觉得不能给他再送一个 hack 了……</p>
<p>于是考后把上界从 * 3 改成 * 4 就过了 →_→</p>
<p>最后是 #55 ，被 xlk 怒踩一名。</p>
<h1 id="others">others</h1>
<p>我在想有谁能把说了 AFK 的 xlk 拉回来。于是果然是 XLkAcp 。</p>
<p>CLJ #8 ，重回 IGM</p>
<p>liouzhou_101 #24 ，成为中国区里除 CLJ rating 最高的。</p>
<p>wjmsbmr #48 C 没过。</p>
<p>xlk 和我一样 C 上限没开够。#54</p>
<p>lydrainbowcat 只出了 ABC ，#114 怒跌。rating 2204 好悬。</p>
<p>cp12321 的 D FST 了。于是 #128 回黄。</p>
<p>有人用小朋友的 ID 打比赛……什么心态 →_→</p>
<p>kAc 的 CD 都 FST 了，E 没能交上去，momo。</p>
<h1 id="nonsense">nonsense</h1>
<p>不知道要到啥时候，我才会重新开启沉寂已久的大号呢…… <span style="color: #000000">及尔偕老，老使我怨。淇则有岸，隰则有泮。总角之宴，言笑晏晏。反是不思，亦已焉哉。——不知道我想说啥的就忽略这句话吧。——我没有语文没学好</span></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/04/11/TOAD-13/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/04/11/TOAD-13/" itemprop="url">TOAD-puzzle-13</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-04-11T12:00:00+08:00">
                2013-04-11
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/04/11/TOAD-13/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/04/11/TOAD-13/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天的题非常漂亮，但是证明实在是不忍直视。这题解写的是有多蛋疼啊 →_→</p>
<h1 id="problem">problem</h1>
<p>有一个 <span class="math inline">\(n\)</span> 元函数 <span class="math inline">\(f(x_1, x_2, \dots, x_n)\)</span> ，其中每个参数的定义域以及函数的值域均为 <span class="math inline">\(\{0, 1, 2\}\)</span> 。且 <span class="math inline">\(f\)</span> 满足，若 <span class="math inline">\(x_1 \neq y_1, x_2 \neq y_2, \dots, x_n \neq y_n\)</span> ，则 <span class="math inline">\(f(x_1, x_2, \dots, x_n) \leq f(y_1, y_2, \dots, y_n)\)</span> 。</p>
<p>是否对于每个满足条件的 <span class="math inline">\(f\)</span> ，都存在一个 <span class="math inline">\(j\)</span> ，使得 <span class="math inline">\(f\)</span> 的函数值只与第 <span class="math inline">\(j\)</span> 个参数相关？</p>
<p><br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br></p>
<h1 id="solution">solution</h1>
<p>还真就是的。尽管我第一反应还不相信 →_→</p>
<p>我这证明真心不敢恭维。如果你没看懂的话，<a href="http://www.cs.cmu.edu/puzzle/solution13.pdf" target="_blank" rel="noopener">这里</a> 是原题 solution 。如果还是没看懂的话，那就算了吧。我觉得这个结论比证明漂亮多了 →_→</p>
<p>下文中为了叙述简洁，我直接用 <span class="math inline">\(\vec{x}\)</span> 表示依次填入 <span class="math inline">\(x_1, x_2, \dots, x_n\)</span> ，即 <span class="math inline">\(f(\vec{x})\)</span> 等价于 <span class="math inline">\(f(x_1, x_2, \dots, x_n)\)</span> 。</p>
<p>对于 <span class="math inline">\(n\)</span> 使用数学归纳法。</p>
<p>当 <span class="math inline">\(n = 1\)</span> 时，结论显然正确。</p>
<p>当 <span class="math inline">\(n\)</span> 时成立，我们要证明 <span class="math inline">\(n + 1\)</span> 时也成立。考虑是否存在一个 <span class="math inline">\(n\)</span> 维向量 <span class="math inline">\(\vec{x}\)</span> ，使得对于任意的 <span class="math inline">\(1 \leq i \leq 3\)</span> ，会产生 3 个不同的 <span class="math inline">\(f(\vec{x}, i)\)</span> 。</p>
<p>如果存在这么一组 <span class="math inline">\(x\)</span> ，则再考虑另一组 <span class="math inline">\(n\)</span> 维向量 <span class="math inline">\(\vec{y}\)</span> 满足 <span class="math inline">\(\forall 1 \leq i \leq n, x_i \neq y_i\)</span> 。对于任意 <span class="math inline">\(1 \leq i \leq 3, 1 \leq j \leq 3, i \neq j\)</span> ，我们均有 <span class="math inline">\(f(\vec{x}, i) \neq f(\vec{y}, j)\)</span> ，如果固定 <span class="math inline">\(j\)</span> 枚举 <span class="math inline">\(i\)</span> ，则 <span class="math inline">\(f(\vec{x}, i)\)</span> 会取遍其余 2 个数，可知 <span class="math inline">\(f(\vec{x}, j) = f(\vec{y}, j)\)</span> 。这样我们发现 <span class="math inline">\(f\)</span> 的值与前 <span class="math inline">\(n\)</span> 个数是无关的，只与第 <span class="math inline">\(n + 1\)</span> 个参数相关，结论成立。</p>
<p>如果不存在，则对于每个 <span class="math inline">\(n\)</span> 维向量 <span class="math inline">\(\vec{x}\)</span> ，均存在一对 <span class="math inline">\(i, j\)</span> 满足 <span class="math inline">\(f(\vec{x}, i) = f(\vec{x}, j)\)</span> 。我们定义 <span class="math inline">\(g(\vec{x})\)</span> 表示其中一个 <span class="math inline">\(f(\vec{x}, i)\)</span> （即 <span class="math inline">\(g(\vec{x})\)</span> 有若干种可能的取值）。现在我们要证明 令 <span class="math inline">\(g&#39;(\vec{x})\)</span> 是 <span class="math inline">\(n\)</span> 时的一个满足要求的 <span class="math inline">\(f\)</span> 。</p>
<p>注意到，对于两个完全不同的向量 <span class="math inline">\(\vec{x}, \vec{y}\)</span> ，我们有 <span class="math inline">\(f(\vec{x}, i) = f(\vec{x}, j)\)</span> ，且存在 <span class="math inline">\(m \neq i\)</span> 或 <span class="math inline">\(m \neq j\)</span> 使得 <span class="math inline">\(f(\vec{y}, m) = g(\vec{x})\)</span> 。不妨设 <span class="math inline">\(m \neq j\)</span> 。我们有 <span class="math inline">\(f(\vec{x}, i) \neq f(\vec{y}, m)\)</span> ，即 <span class="math inline">\(g(\vec{x}) \neq g(\vec{y})\)</span> 。</p>
<p>对于 <span class="math inline">\(n\)</span> 个元素来说， <span class="math inline">\(g\)</span> 是一个满足要求的函数。同样原理，我们可以把 <span class="math inline">\(g(\vec{x})\)</span> 其中一个函数值作小小的修改，即 <span class="math display">\[g&#39;(\vec{x}) = \begin{cases} g(\vec{x}) &amp; \textnormal{if} \vec{x} \neq \vec{z} \  f(\vec{z}, k) &amp; \textnormal{otherwise} \end{cases}\]</span> 这个函数仍然满足要求。</p>
<p>由归纳法知， <span class="math inline">\(g&#39;\)</span> 的函数值只与其中一个参数相关，则易知所有可能的 <span class="math inline">\(g&#39;\)</span> 都是一样的。这表示对于任意一个 <span class="math inline">\(i\)</span> ， <span class="math inline">\(f(\vec{x}, i)\)</span> 只与 <span class="math inline">\(\vec{x}\)</span> 相关。Q.E.D.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/04/10/TOAD-4/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/04/10/TOAD-4/" itemprop="url">TOAD-puzzle-4</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-04-10T12:00:00+08:00">
                2013-04-10
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/04/10/TOAD-4/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/04/10/TOAD-4/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>似乎这个题仍然比较简单。（但我仍然不会 233）</p>
<h1 id="problem">problem</h1>
<p>有一个只包含正整数的多重集 <span class="math inline">\(S\)</span> ，A 和 B 博弈。每次 A 把 <span class="math inline">\(S\)</span> 分成两个多重集 <span class="math inline">\(C_1, C_2\)</span> ，B 可以：</p>
<ol type="1">
<li>令 <span class="math inline">\(S\)</span> 为 <span class="math inline">\(C_1\)</span> ，并把 <span class="math inline">\(S\)</span> 里的所有元素减一</li>
<li>令 <span class="math inline">\(S\)</span> 为 <span class="math inline">\(C_2\)</span> ，并把 <span class="math inline">\(S\)</span> 里的所有元素减一</li>
</ol>
<p>若某时刻 <span class="math inline">\(S\)</span> 为空集，则 <span class="math inline">\(B\)</span> 胜利，游戏结束。若某时刻 <span class="math inline">\(S\)</span> 中存在一个 0 ，则 A 获胜。</p>
<p>求两人获胜的条件。</p>
<p><br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br></p>
<h1 id="solution">solution</h1>
<p>我们令 <span class="math display">\[\phi(S) = \sum_{x \in S} 2^{-x}\]</span></p>
<p>则 A 胜利的条件是 <span class="math inline">\(\phi(S) \geq 1\)</span> ，否则 B 胜利。</p>
<p>首先我们可以很容易得到： <span class="math display">\[\phi(S) = \phi(C_1) + \phi(C_2)\]</span></p>
<p>若 <span class="math inline">\(\phi(S) &lt; 1\)</span> ，则 <span class="math inline">\(\min(\phi(C_1) + \phi(C_2)) &lt; \frac{1}{2}\)</span> ，B 只需选择较小的那个即可。胜利条件不改变。</p>
<p>若 <span class="math inline">\(\phi(S) \geq 1\)</span> ，我们要证明一定存在 <span class="math inline">\(S\)</span> 可以分成两个集合 <span class="math inline">\(C_1, C_2\)</span> 使得 <span class="math inline">\(\phi(C_1), \phi(C_2)\)</span> 均不小于 <span class="math inline">\(\frac{1}{2}\)</span> 。由于 <span class="math inline">\(\phi(S)\)</span> 是由若干个 2 的负幂加起来，所以一定存在一个 <span class="math inline">\(S\)</span> 的子集 <span class="math inline">\(C\)</span> ，使得 <span class="math inline">\(\phi(C) = 1\)</span> 。我们证明 <span class="math inline">\(C\)</span> 可以分成两个相等的集合即可。</p>
<p>对 <span class="math inline">\(\|C\|\)</span> 用数学归纳法。</p>
<p><span class="math inline">\(C\)</span> 中存在两个元素显然是可行的。</p>
<p>否则，易知 <span class="math inline">\(C\)</span> 中最小的两个元素必定是相等的。我们把这两个元素合成一个小 1 的元素，则 <span class="math inline">\(\phi(C)\)</span> 不变，元素个数少了 1 。有归纳法知必定有解。Q.E.D.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/04/09/TOAD-18/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/04/09/TOAD-18/" itemprop="url">TOAD-puzzle-18</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-04-09T12:00:00+08:00">
                2013-04-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/04/09/TOAD-18/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/04/09/TOAD-18/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="problem">problem</h1>
<p>三只蜘蛛想要在一个立方体上抓住一只虫子。已知虫子的最大速度是蜘蛛的最大速度的三倍，且蜘蛛和虫子都只能在棱上活动。对于任意的初始局面，蜘蛛是否都能抓到虫子？</p>
<p><br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br></p>
<h1 id="solution">solution</h1>
<p>蜘蛛一定可以抓到虫子。其实只要想到蜘蛛的最优点不是在点上而是在棱上就可做了。</p>
<p>首先容易知道，如果虫子可以走的路径中没有环，也就是只是一棵树，那么显然蜘蛛赢，只管一路追过去就好了。可是有环怎么破？</p>
<p>我们先把三维空间放到二维平面上来。</p>
<p><img src="/images/TOAD-puzzle-18.jpg"></p>
<p>现在，我们可以给出一个结论：一只蜘蛛可以同时控制一条边的两个点不让虫子经过。假设我们要控制的是 AB 这条边。则任意时刻，这只蜘蛛只要保证虫子到 A 的最短路长度比虫子到 B 的最短路长度等于自己到 A 的最短路长度比自己到 B 的最短路长度。由于虫子到 A 的最短路加上虫子到 B 的最短路至少是三条棱，而蜘蛛只有一条棱，两者最大速度比恰好是 3:1 ，所以这总是可以满足的。</p>
<p>所以，一只蜘蛛控制 DH 这条边，另一只蜘蛛控制 FB 这条边，则剩下的图是两棵孤立的树，还有一只蜘蛛追过去就好了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Yuping Luo</p>
              <p class="site-description motion-element" itemprop="description">Valar Morghulis</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">117</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://www.google.com/+YupingLuo" target="_blank" title="Google+">
                      
                        <i class="fa fa-fw fa-globe"></i>Google+</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/roosephu" target="_blank" title="Github">
                      
                        <i class="fa fa-fw fa-globe"></i>Github</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.facebook.com/yuping.luo.96" target="_blank" title="Facebook">
                      
                        <i class="fa fa-fw fa-globe"></i>Facebook</a>
                  </span>
                
            </div>
          

          
          
            <div class="cc-license motion-element" itemprop="license">
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
                <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
              </a>
            </div>
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yuping Luo</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  

    
      <script id="dsq-count-scr" src="https://roosephus-blog.disqus.com/count.js" async></script>
    

    

  

















  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
