<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="default">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />




  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico?v=5.1.3">















<meta name="description" content="Valar Morghulis">
<meta property="og:type" content="website">
<meta property="og:title" content="AFAIK">
<meta property="og:url" content="roosephu.github.io/page/9/index.html">
<meta property="og:site_name" content="AFAIK">
<meta property="og:description" content="Valar Morghulis">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="AFAIK">
<meta name="twitter:description" content="Valar Morghulis">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="roosephu.github.io/page/9/"/>





  <title>AFAIK</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-37094989-1', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">AFAIK</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Valar Dohaeris</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/03/25/dynamic-mst/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/03/25/dynamic-mst/" itemprop="url">「进行中」Dynamic Minimum Spanning Tree</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-03-25T12:00:00+08:00">
                2013-03-25
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/03/25/dynamic-mst/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/03/25/dynamic-mst/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>XHR 问我关于动态 MST 的问题，于是找论文看到一个很神奇的 <code>O(sqrt(m))</code> per update 的方法。把思路简单说一下吧。（你可以简单地把这篇文章看成是翻译 = =||）</p>
<p>原论文标题是 <code>Data Structures for On-Line Updating of Minimum Spanning Trees, with Applications</code> ，作者是 <code>Greg N. Frederickson</code> 。</p>
<h1 id="保证每个点的度">保证每个点的度</h1>
<p>保证每条边的权为正，这是显然的。</p>
<p>首先要构造一个图，使得和原图的 MST 相同，且保证每个点的度不超过 3 。</p>
<p>原图 <code>G(V, E), \|V\| = n, \|E\| = m</code> ，新图 <code>G'(V', E'), \|V'\| = m, \|E'\| = m</code> ，做法是将原图中的每个点拆成 D 个点（D 表示这个点的度），这 D 个点形成一个环，环上边的权为 0 ，原图的每一条边就可以对应新图一条边，而且任意两条原图的边不会占用同一个新图的点，可以保证每个点的度不超过 3 。</p>
<h1 id="维护的值可能的操作">维护的值、可能的操作</h1>
<p>z：块的大小</p>
<p>块状树的构造：</p>
<pre><code>def csearch(v) :
    clust = set()
    for u in child[v] :
        clust = cluse \| csearch(u)
    if len(clust) &gt; z :
        # find a new clust
        return set()
    return clust</code></pre>
<p><code>E[i, j]</code> ：表示所有连接第 i 个块和第 j 个块的边</p>
<p><code>minE[i, j]</code> ：表示 <code>E[i, j]</code> 中权最小的边</p>
<p><code>delB(i)</code> ：删除第 i 个块。复杂度 <code>O(z)</code> 。</p>
<p><code>addB(S)</code> ：建立一个块，块内的元素集合为 S 。复杂度 <code>O(z)</code> 。</p>
<p><code>delE(x, y)</code>：删除树上连接 x 和 y 的边。如果这条边连接两个块，直接无视。否则先把两个点所在的块删除，然后和相邻的某个块合并，如果合并后的块大小超过某个值，再分裂。所有访问到的块为常数个，复杂度 <code>O(z)</code> 。</p>
<p><code>addE(x, y)</code> ：添加一条连接 x 和 y 的边，然后试图合并两个块。复杂度 <code>O(z)</code> 。</p>
<p>由于度数限制，每个操作的复杂度均为 <code>O(z)</code> 。</p>
<h1 id="om23-per-update">O(m^{2/3}) per update</h1>
<p>我们用块状树维护 MST 。</p>
<p>有四种可能的操作：减小树边的权，增加非树边的权，减小非树边的权，增加树边的权。前两种总是可以忽略的。</p>
<p>对于第三种情况，直接查询最大的树边，有可能的话就把它替换掉。替换就是先删除一条边，再添加一条边。</p>
<p>对于第四种情况。我们先把这条树边删去，然后枚举所有的块对，如果可以覆盖这条边，那么用 <code>minE[i, j]</code> 来更新最优的非树边。最后再比较一次，如果可以更新 MST 就执行一次替换。</p>
<p>复杂度的事呢，第三种情况显然是 <code>O(z)</code> 的，第四种情况是 <code>O(z + (m/z)^2)</code> 的，于是 <code>z = m^{2/3}</code> 好了。</p>
<h1 id="osqrtm-log-m-per-update">O(sqrt(m log m)) per update</h1>
<p>上述做法没有用到任何数据结构维护。一个显然的优化是用某种奇怪的数据结构来优化。</p>
<h2 id="topology-tree">Topology Tree</h2>
<p>这里用到的数据结构是 Topology Tree 。Topology Tree 是一种动态树，他用一个奇怪的树形结构来维护原来的树，可以在 O(log m) 的时间内往原树加入、删除一条边。</p>
<p>考虑一棵任意点度数不超过 3 的树，我们可以 <code>O(n)</code> 构造它的 Topology Tree 。具体构造方式，自己参考论文吧，因为要用图来解释我就懒得搞了。</p>
<p>容易证明， Topology Tree 的高度是 <code>O(log n)</code> 的。Topology Tree 中任意一个节点的孩子数不超过 4 。</p>
<p>为啥这里需要 Topology Tree 呢？因为后面需要支持若干个操作： 1. 合并两棵树 2. 把一棵树分成两棵 3. 查询一棵树的最小权</p>
<h2 id="块树">块树</h2>
<p>构造一个新树叫做“块树”，也就是把原树一个块缩为一个点。可以得到块树的大小是 <code>O(m / z)</code> 的。</p>
<p>很囧的一点，块树的度数并没有保证。于是我们要找到一个合适的划分块的方式，使得满足： 1. 在 MST 中，任意一个块至多与三个块相邻。 2. 任意一个大小小于 z 的块必定与三个块相邻。</p>
<p>这种划分块的方式只要在 <code>csearch</code> 的基础上稍稍修改即可。每次函数再多返回一个值，表示与几个块相邻。一旦块的大小超过 z 或者度数等于 3 ，这就应该要被分成一个块。可以证明，这种方式可以满足要求。（证明懒得看了）</p>
<p>我们把这种划分的方式成为 <code>度限制划分</code> （自己随口 YY 的名字）。</p>
<h2 id="具体做法">具体做法</h2>
<p>我们在度限制划分时会产生 <code>O(m / z)</code> 个小块，对于每个小块我们构造一棵 Topology Tree 。这棵 Topology Tree 的每个叶子表示一个划分出来的小块，顺便用一个堆按边权大小维护 <code>E[i, j]</code> 以及最小权的边；对于每个内节点，我们维护这棵子树内的最小权的边。很显然，所有的 <code>O(m / z)</code> 棵 Topology Tree 的形状是一模一样的，只是要维护的值不一样。空间复杂度易知为 <code>O(m^2/z^2 + m)</code> 。当 <code>z &gt; sqrt(m)</code> 时，空间复杂度为 <code>O(m)</code> 。</p>
<p>再次考虑删除（添加）一个块需要做的操作。每次需要修改 <code>O(m / z)</code> 棵 Topology Tree 。每次修改需要修改最下层的叶子，然后依次更新内节点。由于 Topology Tree 的高度为 <code>O(log (m / z))</code> ，所以每次操作的复杂度为 <code>O(m/z log (m/z))</code> 。</p>
<p>考虑第三种情况。由于替换边的本质是重新维护块，而需要维护的块的个数是常数个，而且要构造常数个块的 Topology Tree ，所以复杂度是 <code>O(m/z log (m/z) + z)</code> 。</p>
<p>考虑第四种情况。这一步就可以通过维护的 Topology Tree 来加快速度。不妨设这条树边连接的是 x 和 y 。如果 x 和 y 在同一个块中，我们需要把这个块分裂成两个，这也可以通过改变常数个块来实现。在前一种算法中，我们要 O(m<sup>2/z</sup>2) 地枚举块对，现在我们只要枚举一个块，在这个块对应的 Topology Tree 中把 x-y 这条边删去，这样会产生两个 Topology Tree ，选择不包含这个块的 Topology Tree ，用维护的子树最小权的边即可更新答案。第一步的复杂度是 <code>O(m/z log (m/z) + z)</code> ，第二步的复杂度为 <code>O(m/z log (m/z))</code> ，总时间复杂度为 <code>O(m/z log (m/z) + z)</code> 。</p>
<p>均衡一下，令 <code>z = sqrt(m log m)</code> 可以得到整个算法 per update 的时间复杂度为 <code>O(sqrt(m log n))</code> 。真是太令人（理性）愉悦了～</p>
<h1 id="osqrtm-per-update">O(sqrt(m)) per update</h1>
<p>在上一种做法中，我们建立了 <code>O(m / z)</code> 棵 Topology Tree ，而这若干棵树的形态完全一样。于是我们可以考虑建立一棵“二维 Topology Tree”来继续优化。</p>
<p>然后啪啦啪啦优化就是 O(sqrt(m)) 了 = =|| （具体过程正在看……）</p>
<p><span class="math inline">\(O(\sqrt{n})\)</span></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/03/23/CF-176/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/03/23/CF-176/" itemprop="url">Codeforces-176</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-03-23T12:00:00+08:00">
                2013-03-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/" itemprop="url" rel="index">
                    <span itemprop="name">Codeforces</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/03/23/CF-176/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/03/23/CF-176/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>总感觉很忙没时间，却刷了无数次水。</p>
<p>禁了人人 ，发现逛 NOIP 吧的时间快赶得上人人了。</p>
<pre><code>echo 0.0.0.0 tieba.baidu.com \| sudo tee -a /etc/hosts &amp;&amp; sudo systemctl restart network</code></pre>
<p>最近看了看 Lisp ，感觉 Haskell 和 Lisp 是两个极端， Haskell 专业高科技三十年， Lisp 则是让码农自己配置一门语言。Haskell 专注于算法，Lisp 则专注于代码的编写。</p>
<p>好了不说了，说说这次 CF 吧。</p>
<p>结果嘛，自然很不理想。只做了 A、C 两个题，结果 C 还 FST 了囧，最后中号（以后就按照 rating 标记为大中小号好了）居然都跌了，sigh……</p>
<h1 id="solution">solution</h1>
<h2 id="a">A</h2>
<p>这个水题也不水的啊……</p>
<p>可以知道， <code>p^2</code> 只包含长度为 1 和 2 的循环，而且长度为 1 的循环至多只有一个，所以 <code>p</code> 只包含长度为 1 和 4 的循环，且长度为 1 的循环至多只有 1 个。于是无解的充要条件是 <code>n = 2/3 (mod 4)</code> 。</p>
<p>然后我们把若干个长度为 2 的循环合并起来就好了。</p>
<h2 id="b">B</h2>
<p>居然没做出来，囧。</p>
<p>如果提前把序列旋转一次（就是把第一个放在最后去啦），那么有改动的位置是 <code>O(n / i)</code> 的，数组就好了。开个两倍的数组好了。</p>
<h2 id="c">C</h2>
<p>手速慢啊。FST 啊。</p>
<p>主要思想就是尽量晚地退栈。每次遇到一个必须配对的，我们就看看栈顶，如果栈顶为我们等待的元素，那就 OK 了，否则弹出栈顶，递归配对栈顶。</p>
<p>然后某个地方忘记 break 导致死循环了，囧。</p>
<h2 id="d">D</h2>
<p>一开始看错题了囧。</p>
<p>其实这个题蛮好玩的。</p>
<p>我们建立一个平面直角坐标系，x 坐标表示时间，y 坐标表示人物的 y 坐标。那么所谓“墙壁”可以看为一个向右无限延伸的条形，人物的运动轨迹就是直线 <code>y = x - T</code> ，T 表示人物开始运动的时间，答案就是直线在所有条形内的线段在 y 轴上的投影长度和。我们把二维平面直角坐标系变换一下： <code>(x, y) -&gt; (x - y, y)</code> ，则人物的运动轨迹 <code>x = T</code> ，条形变成了一个无限延伸的梯形。我们可以求出所有梯形的并的形状，再水平剖分后成若干个梯形。这若干个梯形对答案的贡献是独立的，每个梯形对答案的贡献可以很方便的求出来。</p>
<p>如何球梯形并？按 t 排序后暴力，用并查集保证复杂度就好了。</p>
<h2 id="e">E</h2>
<p>感觉就是暴力 FFT 的题……</p>
<p>令 <code>f(x) = \sum c_i x^i</code> ，其中 <code>c_i</code> 表示 i 是否出现过。考虑 <code>f^2(x) = \sum d_i x^i</code> 。若 <code>i &lt;= m &amp;&amp; c_i == 0 &amp;&amp; d_i != 0</code> 则显然无解，因为 i 能被若干个包表示出来，所以 i 必定是一个包；若 <code>i &lt;= m &amp;&amp; c_i != 0 &amp;&amp; d_i == 0</code> ，则 i 会出现在答案中，因为此时的 i 不能用其他的数的和表示。</p>
<h1 id="situtaion">situtaion</h1>
<p>听说下午有 CF ，真是喜闻乐见。CF 的正常时间是晚上十一点半的啊。</p>
<p>大叔、秋锅被拉到招生办去了，于是就只有我一个人在做。</p>
<p>看了 A 发现第一眼居然没想法？这不科学！不过乱 YY 一下还是可以 YY 出来。10min 才过居然还是 room 中第一个……</p>
<p>然后看 B 。看完题目的第一想法是调和级数的前缀和是 <code>O(n log n)</code> 的，然后用 splay 暴力维护序列。</p>
<p>……用 splay 维护序列的题可以放在 B ？</p>
<p>……用 splay 维护序列的题有人可以 8min A ？</p>
<p>……用 splay 维护序列的题有 50+ 人 A ？</p>
<p>……只想到用 splay 维护序列的人就滚粗了。</p>
<p>总是感觉各种不科学不可做啊。感觉再在这个题上耗就要挂了，于是决定看 C 吧。</p>
<p>看了 C 后感觉只要 lazy 弹栈就好了。于是怒写。由于写的 dfs ，导致各种判无解退出 = =||</p>
<p>最后在 D 和 B 纠结。稍微看了看 D 的题目，一开始看错了，以为是一道裸数据结构题，写完了才发现囧。</p>
<p>那就只好做 B 了。一直拖拖到考试结束还是没做出来……</p>
<p>E 连题目都没看，要是看了题目的话或许能想到 FFT 的。</p>
<p>最后结果 C 还是少判了个无解退出，结果就死循环了，光荣 FST 。于是就只过了 A 。#190 怒 -64 。</p>
<h1 id="others">others</h1>
<p>怎么看都比我好是不。</p>
<p>看 standing 发现各种 FST 啊，我觉得这么坑爹的题本来数据就要加强点嘛，怎么忍心还让别人 FST 呢，出题人的良心啊。</p>
<p>7k+ 没跳 B 这个坑，于是过了 CE ， D FST 了。 #9</p>
<p>peter50216 FST 了 DE 题。不过前三题过得快也不错的。#10</p>
<p>liouzhou_101 #36 略略跌了点。</p>
<p>lyd 和 shy 开黑我就不吐槽了。总之对于他俩开黑我已经习惯了。 lyd #32 shy#40</p>
<p>过了前三题的人都不错，ryz #48 。</p>
<p>楼教主也来了！FST 了 CDE 真是太残忍了。RAD 也 FST 了 CDE 囧。</p>
<p>发现一堆人 FST C 啊，RAD、a142857a、chnlich、cherudim、wuzhengkai、ACRush 。</p>
<p>WJMZBMR 退出了 IGM ，ACRush 最近的 TC、CF 表现都不佳。难道要让位给—— wjmsbmr 了吗？</p>
<h1 id="nonsense">nonsense</h1>
<p><img src="/imgs/cf-176-dvi2-rank2.jpg"></p>
<p>我该怎样吐槽这两个人？</p>
<p>我会说 <code>fotile96</code> 是镇海神 dyh ？</p>
<p><strong>我会说 roosaphu 是 XLk？</strong> 你这是闹哪样啊……我一开始居然还没反应过来 = =||</p>
<p>最后献上一张图，不忍直视。</p>
<p><img src="/imgs/tieba-roosaphu-rooscphu.jpg"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/03/17/CF-174/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/03/17/CF-174/" itemprop="url">Codeforces-174</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-03-17T12:00:00+08:00">
                2013-03-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/" itemprop="url" rel="index">
                    <span itemprop="name">Codeforces</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/03/17/CF-174/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/03/17/CF-174/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>结果还没出就开始写了……随便啦，免得成为坑。</p>
<h1 id="solution">solution</h1>
<h2 id="a">A</h2>
<p>A 有 1000 分诶，所以不是简单题了。这是个简单数据结构题，写个树状数组就好了。</p>
<h2 id="b">B</h2>
<p>我勒个去坑翻我了。</p>
<p>很容易可以知道，只要记忆化一下就好。于是我开了个 map 来搞。但是在递归的时候为了预防死递归，我还用了个 set 来保存当前的栈。于是若干次错误就在这个栈这里了……最后 +4 才过。</p>
<h2 id="c">C</h2>
<p>感觉是个水题啊。</p>
<p>首先如果没有变量的限制条件，那就是一个很暴力的 dp 了。无解的一种情况就是出现了环。假设不存在环，考虑消除这种限制条件。对于一组限制 <code>x[c] &gt; x[b]</code> ，我们可以尝试令 <code>y[c] = x[c] - x[b] - 1</code> ，这样 <code>y[c]</code> 是没有限制条件的，同时，把 <code>a[b]</code> 加上 <code>a[c]</code> 。这样意味着每次取了一次 b 就要取一次 c ，而 <code>y[c]</code> 就是 c 比 b 多取的。</p>
<p>剩下的就是背包了。</p>
<h2 id="d">D</h2>
<p>这个题还蛮有意思的。</p>
<p>先考虑两个数可以相邻的条件。<code>(x, y)</code> 合法，当且仅当存在 t 使得 <code>x = yt + y(y-1)/2</code> 。所以当 y 为奇数时，只要 <code>x = 0 mod y</code> 即可。当 y 为偶数时，则条件为 <code>x = y/2 mod y</code> 。</p>
<p>接下来就是 dp 了。<code>f[i]</code> 表示前 i 个最多保留多少个，其中第 i 个必须保留。<code>f[i] = max(f[j]) + 1</code> ，j 的条件为 j 到 i 这一段能凑出一个序列。考虑 <code>a[i - 1]</code> ， 如果 <code>a[i]</code> 是奇数，自然一种很自然的想法就是前一个继续用 <code>a[i]</code> ，否则前一个用 <code>a[i] / 2</code> 。这样维护一个数就好了，是这次 CF 中最好写的题。</p>
<h2 id="e">E</h2>
<p>我居然没看这个题……看了后发现应该是可做的，但是我不一定写得出。</p>
<p>首先需要用到 WC 某费用流题《石头剪刀布》的一个结论：</p>
<pre><code>ans = C(n, 3) - sum(C(w[i], 2))</code></pre>
<p>其中 <code>w[i]</code> 表示 i 的入度（或者出度）。证明很巧妙的说。</p>
<p>然后考虑如何统计 <code>w[i]</code> 。原题是在一个 n * n 的格子上进行操作的，每次取反一个子矩形。差分一维，线段树维护即可。</p>
<h1 id="situation">situation</h1>
<p>首先做 A 。第一反应是维护一个和就好了，啥数据结构都不用。第二反应是要写个带标记的线段树，恶心啊。最后决定写树状数组吧。坑爹的 cout 输出精度，我一开始只输出了 6 位有效数字不幸 WA1 。换成 10 位就过了。</p>
<p>然后看 B 。我勒个去停电是什么状况啊！向总不是和门卫打了招呼了吗！坑爹啊亲！感觉这个题也蛮水的，写啊写提交发现 MLE 了……这明显是死递归的节奏啊，怒看代码发现了 WA 点。改了再交收获 WA 5 。又发现一个 WA 点再交，还是 WA 5 。还发现一个 WA 点终于过了 5 了——变成 WA 9 了……再找终于过了 pretest 了，泪流满面。只有 592 pts 了。</p>
<p>看 C 。一开始以为这是宇宙大水题，写了发现过不了样例，才发现看错题了 = = 重新看了遍题目发现仍然是水题，怒过。</p>
<p>看 D 觉得这题蛮适合我的口味的，偏数学，代码短。总之推了一下就发现可做了。</p>
<p>然后就没有然后了，连 E 的题目都没看。</p>
<p>最后发现 A 用时 11min C 用时 17min D 用时 13min B 用时 40 min ……最佳的做题顺序是 DCAB 啊亲，又被做题顺序坑了。</p>
<p>幸亏没有 FST 。#14 怒踩 Egor、CLJ 也不错了。下次如果 RP 还这么好就可以红了～</p>
<h1 id="others">others</h1>
<p>ST 之前 7k+ 夫妇怒占前二，然后 CLJ 怒 FST * 2 。</p>
<p>Seter 居然也在做？我很少看见他做啊。 #20 好牛叉。他首先做的 D ，犹豫了好久不敢交……他要是交了绝对虐我。</p>
<p>liouzhou_101 #22 和我一样被 B 坑了 50min</p>
<p>wuzhengkai #31 A 居然 FST 真是 xwlj 。</p>
<p>lyd 的 C 莫名其妙被 Skipped 了……于是 #35</p>
<p>然后我就很奇怪为啥 FredaShi 为啥每题都交的比 lyd 慢。</p>
<p>wyl8899、squarefk 都是前三题。wyl8899 的 D FST 了。</p>
<p>秋锅只过了两题。B 1A 分数比我还高= =</p>
<p>a142857a FST * 2 真是太令人桑感了。</p>
<h1 id="nonsense">nonsense</h1>
<p>最近 我/主席/xiaodao/Seter/7k+ 几个商量再出一场 CF ～</p>
<p>当然 idea 有限，时间也是个问题～</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/03/15/TC-573/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/03/15/TC-573/" itemprop="url">Topcoder-573</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-03-15T12:00:00+08:00">
                2013-03-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Topcoder/" itemprop="url" rel="index">
                    <span itemprop="name">Topcoder</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/03/15/TC-573/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/03/15/TC-573/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <del>
我勒个去，等了几天了居然还没发 Analysis …… TC 效率是有多低啊，看来只能怒坑一把了。
</del>
<h1 id="solution">solution</h1>
<h2 id="pts">250 pts</h2>
<p>显然是贪心，每次取最大的一个元素，然后去能超过他的最小的两个就好了。</p>
<p>直接用 set 暴力搞。</p>
<h2 id="pts-1">450 pts</h2>
<p>我勒个去这都会想错……</p>
<p>首先一个很简单的结论就是：一定存在一组最优解，使得不会出现新的种类的高度。</p>
<p>有了这个结论就好做了。点的范围只有 50 ，于是直接 <code>f[i][j]</code> 表示第 i 个点的高度为 j ，且 0 号点能到达 i 号点时的最小修改代价。显然可以用最短路来做。构不构图随你，反正范围很小。</p>
<p>我居然很脑残的写了个 bellman-ford ……还是个错的 bellman-ford ……</p>
<h2 id="pts-2">850 pts</h2>
<p>为了填这个坑我容易么我。等 TC 的题解等了这么久，今天晚上终于出来了。</p>
<p>首先很明显，坐标轴需要转一下。然后目标点就被限制在一个矩形范围内了。现在我们要统计所有的初始点到达矩阵中某个点的方案数的和。 <strong>注意到每次移动对于 x 和 y 的改变是不相关的</strong> ，也就是说 x 和 y 可以分开解决。知道了这一点一切都好做了。</p>
<p>由于可以分开解决，那么啥问题都没有了，不妨假设要求 x 吧。枚举最后的 x ，再枚举每个点，方案数可以由一个组合数表达出来，所以可以 <code>O(1)</code> 解决。总复杂度就是 <code>O(nm)</code> 。</p>
<p>居然没想到 x、y 分开解决，诶……</p>
<h1 id="situation">situation</h1>
<p>早上给小朋友发了题后开始刷水，在八点四十多发现今天的 TC 是早上九点而不是晚上，怒开小号注册。</p>
<p>似乎我在 room 排名蛮低的？桑心～</p>
<p>250 pts 似乎是水题，秒掉。</p>
<p>450 pts 不会做，乱猜了个结论，感觉是对的（的确是对的）。于是开始敲代码。不想构图了，于是 YY 了一个算法，用 dp 来做。结果一测发现连样例都没过 = =|| 然后想着这个算法没错啊，于是又加了一层循环怒过样例。后来一想这是哪门子的算法啊，错的妥妥的……</p>
<p>既然过了样例就没想了，看着第三题只有 850 pts 觉得可做于是就做了一下……发现这不是个数学题吗？蛮合我口味的。感觉是个组合数学题？也还可以。于是 YY 来 YY 去还是没想法……</p>
<p>看完 Analysis 后瞬间发现我脑残了，分开考虑就很简单了。</p>
<p>最后 450 pts 的当然 FST 。排名 #173 如果没有 FST 的话前 20 应该没问题……</p>
<p>由于是小号所以还是可以涨的。但是……这会不会对自已要求太松了点？</p>
<h1 id="others">others</h1>
<p>AC_Rush 时隔多年之后终于回来了！但是 #36 似乎有点不合人意啊……（不要给我）</p>
<p>我们 room 的 NaHS 前两题开的很慢，刚交完的时候是 room 的 #10+ 。但是不知怎么的慢慢慢慢就到了 #2 了，最后 #35 怒压教主。</p>
<p>cherudim9 #49 感觉 450 pts 的有 300+ 应该是不难的。</p>
<p>liouzhou_101 #95 主要是 450 pts 的交慢了吧。</p>
<p>UESTC_elfness 居然 FST 了 250 pts 的，出乎我想象。</p>
<p>ryz #165 ，250 的比我快……</p>
<p>huzecong 蛮好玩的，他的 250 是我们 room 交得最快的，后来他重交了一遍，就只有 75 pts 了。450 速度也还可以，然后又重交了一遍就只有 135 pts 了，最后 250 的 FST 了还 cha 错一个人囧……</p>
<p>另外求 <span class="citation" data-cites="xiaodao">@xiaodao</span> 小号 ID ……</p>
<p>有人 -150 什么心态 = =||</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/03/11/CF-172/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/03/11/CF-172/" itemprop="url">Codeforces-172Codeforces-出题感想</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-03-11T12:00:00+08:00">
                2013-03-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/" itemprop="url" rel="index">
                    <span itemprop="name">Codeforces</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/03/11/CF-172/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/03/11/CF-172/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>第一次参加 CF 的出题，感觉蛮好的……</p>
<p>虽然我打了一圈酱油啊！啥都没做啊！</p>
<h1 id="solution">solution</h1>
<h2 id="a-xiaodao">2A — xiaodao</h2>
<p>你还想要有多水？</p>
<h2 id="b-roosephu">2B — roosephu</h2>
<p>普通青年：枚举分母。</p>
<p>文艺青年：连分数展开。</p>
<p>二逼青年： <code>Fraction(x,y).limit_denominator(n)</code></p>
<h2 id="c1a-xiaodao">2C/1A — xiaodao</h2>
<p>普通青年：暴力半平面交</p>
<p>二逼青年：暴力推公式</p>
<p>文艺青年：跳掉不做</p>
<p>要我的话还是半平面交吧，虽然这样也要推一些公式 T_T</p>
<h2 id="d1b-roosephu">2D/1B — roosephu</h2>
<p>这个题是我从耀爷那里蒯来的，结果没想到成为最水的题了……</p>
<p>一个结论就是最大值/次大值对只有 <code>O(n)</code> 个，用单调队列处理出来就好了。</p>
<p>感谢大叔提供了几个好数据～</p>
<p>有谁看得出这题是我出的么……其实我还黑了人的，只不过黑得很不明显罢了，连某热衷于黑我的小朋友都没看出来。</p>
<h2 id="e1c-wjmzbmr">2E/1C — WJMZBMR</h2>
<p>答案就是每个点的深度的倒数和。（根的深度为 1）</p>
<p>证明嘛，我还不会一个显然的证明，但是我找规律找出来是对的。</p>
<p>有一种理解是这样的：我们考虑每个点，这个点只有在选择某次其祖先的时候才可能被删，选中自己的可能性是 <code>1/dep(i)</code> ，也就是这个点对答案的贡献期望是 <code>1/dep(i)</code> ，又由于每个点对答案的贡献是独立的（这点怎么看？），所以直接加起来就好了。</p>
<h2 id="d-fotile">1D — fotile</h2>
<p>来自 fanhq 的加强版。</p>
<p>对于一个序列，求 k-MSS ，我们可以用网络流来做：一条链，限制流量为 k ，跑最大费用最大流。</p>
<p>这不是比暴力还慢么！注意到每次增广的特殊性，一定是选择一个区间，取了其中的值，然后区间取反。线段树维护即可。当然由于维护的信息比较多。要支持取反于是要还要记录最小值，还要顺便记录答案，比较麻烦。</p>
<p>于是就 <code>O(n k log n)</code> 了……</p>
<p>这个题居然被水过去了，坑爹啊……算了算了还是那句话：暴力能水过去也是他的能耐嘛。</p>
<h2 id="e-fotile">1E — fotile</h2>
<p>主席的加强版的弱化版。（一种蛋疼的忧桑？）</p>
<p>做过原题的话应该知道用折线来刻画 dp 值这方法。对原题来说令 <code>f[i][j]</code> 表示第 <code>i</code> 个数为 <code>j</code> 时的最小代价和，可以知道 <code>f</code> 是一条折线，且只包含 <code>O(i)</code> 条线段，于是我们维护 <code>f[i]</code> 所表示的折线，递推出 <code>f[i+1]</code> 的折线。事实上这个方法是可以推广的，不过在这个题上是用曲线来刻画。曲线不好表示是吧，于是考虑维护曲线的导数。</p>
<p>维护了导数，找最小值也好找了，直接求与 x 的交点即可，方程也可以维护了。由于 <code>n</code> 只有 6000，暴力维护即可。当然你要有能耐的话可以用平衡树维护，保证复杂度 <code>O(n log n)</code> ，不过略难写。</p>
<h1 id="procedure">procedure</h1>
<p>一开始是在 G+ 上，主席说要给 CF 出题赚外快，于是我就回了句 bg ，然后就被主席拉过来出题了。</p>
<p>YY 能力完全不够啊。幸亏最难的几个题主席都已搞好了，于是我和 xiaodao 专注水题三十年。小岛出的 2A &amp; 1A ，我出的 2B &amp; 1B</p>
<p>一开始出 2B 的想法是要给一道水题是吧，然后瞬间想到 Python.fractions.limit_denominator 。当然连分数展开是果断不可行的，于是暴力枚举分母即可。</p>
<p>1B 的来源是耀爷讲课时的某题，我就直接蒯了下来～Gerald 好像搞了个很复杂的方法的说，其实就是个水题嘛。</p>
<p>一开始 1B 想出最大值除以次大值，后来想把数据出强一点，于是写了个 cheater 发现全部骗过去了，后来才发现如果是除以的话，答案一定是相邻两个数的商……宇宙大水题啊……</p>
<p>出题是放在 Polygon 上。真心是个专业网站，自带版本控制，用起来非常方便。里面有 invocation 用来测试数据，gen 建议用命令行做初始化，可以用脚本来生成数据，validator 检验特严格，一个字符都不能多，checker 感觉很松的，package 可以下载这个题目的所有相关信息，题目支持部分 TeX 语法真是太好了。幸亏前一段时间用过 git ，对版本控制还是有点理解的，用起来不难。唯一需要吐槽的一点，就是你必须等网页缓冲完毕后再点击超链接，否则会直接回到首页，蛋碎的感觉……每次 commit 都会发一份邮件，所以这几天被轰炸了不少。</p>
<p>主席某天突然之间就住院了，一开始我也不知道是啥情况，但是似乎很严重的样子。于是他的题就被分了，我、xiaodao、Seter 一起搞。我写了 E 的 cpp 以及 java ，慢出翔了，后来还是用的 Seter 的 java 。不过我写的 D 的 java 倒是跑得蛮快的样子。时限要求为 java 的两倍还真是蛋疼。为了照顾 Java 我不得不优化常数，结果最后和 xiaodao 一商量决定把时限开为 5s ，于是就有人水过了 T_T 其实我觉得 n 开小 k 开大蛮好的嘛，CLJ 说限制 k 的和也是可以的，这样更好卡了。</p>
<p>在比赛的前几天，突然得到消息说 C 冲了，于是怒 YY 题目。刚好做了一个 Project Euler 的题，于是 YY 出一个题，但是被 CLJ 抢得先机用了他的题。没关系下次再用嘛。</p>
<p>于是这场比赛的 problem setter 真是多，xiaodao、我、CLJ、fotile、kissbuaa ，另外 Seter、7k+、pashka、Gerald 来验题，规模也算得上庞大了，于是有人怒吐一槽：</p>
<p><img src="/imgs/weak-data.jpg"></p>
<p>话说现在 WJMZBMR 与 Petr 正大战三百回合，有兴趣的同学可以去围观。</p>
<p>然后晚上本来不打算围观了的，因为没人做，但是跑回寝发现大叔在做，于是怒围观。Seter、xiaodao、CLJ 开了语音，我和 7k+ 俩人就只好打字了……好苦逼。</p>
<p>于是讨论组里面的人全部开了上帝视角，成了权限狗。期间由于 XLk 突然之间回话了所以和 XLk 聊了一下天，他好久不回我了 T_T</p>
<p>发现 div2 的题超水，3min 左右 400+ 人过了 2A ，太可怕了。然后继续有人过 2B 。我很想不通那些过了 2C 没过 2B 的人是啥心态……我更想不通居然没人用 <code>limit_denominator</code> 来做，我还想不同有人用 Fraction 构造分数的时候用了小数从而精度有 bug ，我最想不通一堆人说这题精度太紧了太紧了。明明 Gerald 说这题太水要把数据组数减小的……</p>
<p>居然有人 5min 内过了 1A ，真是太令人惊悚了。我还看到若干个纯代数流，太可怕了。由于 1A 题过难，导致 1B 被迅速秒，成为这次 CF div1 AC 人数最多的题。</p>
<p>wuzhengkai 和 watashi 俩人同时在 33min 过了 A ，死磕着 A 不放干啥嘛，A 明显是用来坑人的。（wzk 的人人头像越看越觉得萌 = =||）</p>
<p>比赛的时候一堆人问 excluding OR 是什么意思。我明明记得我原题写的是 XOR 啊，那个英文翻译改成了这个东西真是蛋疼……偏偏样例精心手构答案是 7 和 15 无论 or 还是 xor 都可以解释。不过明明题目是 XOR 样例解释是 XOR 你还有什么问题吗？</p>
<p>哇卡居然有人交了 E ？WA pretest 2 连样例都过不了囧爆了。讨论组里面没人认为有人可以 AK 。</p>
<p>然后在 1h5min 有人过了 E 的 pretest ？为了和谐 pretest 是直接上了极限数据的，人民群众喜闻乐见欢兴鼓舞拍手称好。然后 Seter 拿过去一测发现可以 A 。经仔细研究后发现这个算法是错的……于是 Seter 出数据开始卡发现稍微一卡就可以卡掉了……结果一场腥风血雨在 CLJ 和 Petr 展开……再一看这个人还只交了 E ？果 E 大神！他的 AB 是后来才写的，太强大了……</p>
<p>大叔 YY 了一个 1B 算法，于是交了一次发现是错的，然后再交一次，于是我求数据加入 tests ，然后又写了个 gen 来生成类似的数据，似乎卡掉了一些人的样子。</p>
<p>D 题居然有人写正解！UESTC_Nocturne 太强大了……不过这个题被 <code>liouzhou_101</code> 骗过去了还真就不甘心呢。但是时限放的太宽卡不掉真是蛋疼呢。</p>
<p>之后一堆人在吐槽说 div2 的题太难了太难了太难了，你想要我做什么表情？</p>
<p>这次 CF 成功把 tourist 拖下 3k ……只要拼了前三题的手速就不会太差，后两题基本上没人过的。</p>
<h1 id="nonsense">nonsense</h1>
<p>好吧就是这样，感觉蛮好玩的呢。</p>
<p>骗钱向：以后有谁要出 CF 了我可以过来打酱油啊，专业酱油三十年。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/03/10/upd-theme/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/03/10/upd-theme/" itemprop="url">theme-updating</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-03-10T13:00:00+08:00">
                2013-03-10
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/03/10/upd-theme/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/03/10/upd-theme/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>刚刚对主题做了点小改动。原因蛮简单的，在 XFCE 下开启透明效果后，我发现原来的背景与桌面这张阿狸的图片混在一起蛮好看的，于是心血来潮加了个背景。各位觉得怎么样啊～不好看的话我还是改回来吧。</p>
<p>具体实现其实蛮简单的。首先找到你的壁纸，用 GIMP 打开，然后新建一个全黑的图层，然后 <code>菜单 -&gt; 颜色 -&gt; 曲线</code>， 通道设为 <code>alpha</code> ，然后把那根线段的端点往下拉，就是 <code>x</code> 不变 <code>y</code> 变小，开启预览的话就按照自己喜好调。然后 <code>Ctrl-Shift-E</code> 导出即可。似乎这种图上 <code>jpg</code> 比 <code>png</code> 小一些？</p>
<p>如果图片大了的话缩放一下即可，我直接用 <code>XnView MP</code> 来重采样了。</p>
<p>然后要改 <code>Jekyll-Bootstrap</code> 了。我用的主题是 <code>hooligan</code> ，于是在 <code>/assets/themes/hooligan/css/style.css</code> 这个文件内有一行</p>
<pre><code>background: url(../images/bgs/body.png) repeat;</code></pre>
<p>我要的效果是背景不随网页滚动而滚动，于是改成：</p>
<pre><code>background: url(../images/bgs/bg.jpg) fixed;</code></pre>
<p>刷新几次，收工。</p>
<p>当然还有不满意的一点，就是壁纸大小不能根据屏幕大小自动换。这个要实现的话应该是可行的，因为这几天鼓捣 <code>bootstrap</code> 发现可以提供响应式设计，多 YY 一下应该是可以 YY 出来的吧～</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/03/10/TCO-1C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/03/10/TCO-1C/" itemprop="url">Topcoder-OpenTopcoder-Round1C</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-03-10T13:00:00+08:00">
                2013-03-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Topcoder/" itemprop="url" rel="index">
                    <span itemprop="name">Topcoder</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/03/10/TCO-1C/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/03/10/TCO-1C/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>终于没有 <code>hole</code> 这个 tag 了～</p>
<h1 id="solution">solution</h1>
<h2 id="pts">250 pts</h2>
<p>做这个 250 不要 250 了……</p>
<p>枚举最大值在这个序列的位置，可以根据位置及 <code>d</code> 算出这个数是多少，然后取遍 <code>max</code> 即可。</p>
<h2 id="pts-1">500 pts</h2>
<p>二分答案，没了。</p>
<h2 id="pts-2">1000 pts</h2>
<p>感觉这个题好囧啊。</p>
<p>令 <code>S</code> 表示随便放一个马，除自己这个格子外，期望能够攻击到多少个格子；令 <code>P</code> 表示同时能被两个马攻击到的期望格子数。经过一定的推理后，我们可以发现如下公式：</p>
<pre><code>ans = 2S + 2 - 2S/(n^2-1) - P</code></pre>
<p>于是我们只要求出 <code>S</code> 和 <code>P</code> 即可。求 <code>S</code> 的话可以考虑统计每个方向上可以放的马的数目， <code>P</code> 的话我们就枚举同时被攻击到的马的位置。</p>
<p>首先考虑 <code>a == b</code> 的情况。 <code>S</code> 倒是很好求， <code>P</code> 的话可以推出一个公式来的。</p>
<p>再考虑 <code>a /= b</code> 的情况， <code>S</code> 照样很好求， <code>P</code> 就不一定了。我 YY 了一个很奇葩的方法。首先找到边界上的若干个分界点： <code>{0, a, b, n - b, n - a, n}</code> 。这若干个点把大矩形分成了 25 个小矩形。矩形内部的 <code>P</code> 是一定的，随便找一个点（例如找中点）即可判断出某矩形内的点的 <code>P</code> 。然后再用组合数乱搞一下即可。</p>
<h1 id="situation">situation</h1>
<p>怒刷小号～从此我也是有 TC 小号的人了～</p>
<p>一进 room 一看，cherudim9 是 room 内 rating 最高的，我是最低的，高下立判。</p>
<p>一打开 250 pts，插件自动帮我生成了……Java 模板？我勒个去果断自己手写 C++ 。</p>
<p>随便一想觉得这题蛮水的啊，写完后样例都没测（因为没插件不好测），直接在 Arena 里面测了。觉得没啥问题就交了。这题真心水啊怎么 room 里第二个交的才 230+ 呢？</p>
<p>果断重新配置插件。把默认语言改为 C++ 一切就好了。</p>
<p>然后开 500 pts，这不是一个绝世大水题吗……怒写然后过掉。</p>
<p>现在时间还多的很呢，于是开始 YY 1k pts 。一开始的时候根本就没想到还有 <code>P</code> 这种干扰，后来才想起来……</p>
<p>感觉样例很强的啊，于是感觉是可过的。</p>
<p>cha 人的时候看到 500 pts 有人没用 long long 来保存中间结果，就想着这是不是一个 cha 点。我看到有人程序和我的特别像，于是在 cha 之前用自己代码测了一遍，发现过了？继续 YY 发现就是过了。自己一想发现中间结果至多是 <code>2k</code> 怎么可能会爆 int ……</p>
<p>最后的 FST 是什么情况啊！发现是 <code>a == b</code> 时的特判写挂了 T_T</p>
<p>所以最后是 #60 。如果 1k pts 不 FST 的话前二十没压力的 T_T</p>
<h1 id="others">others</h1>
<p>这次做的人不多，很多人都做前两次去了。</p>
<p>cherudim9 本来还好的，可是被 500 pts 的那个不是 cha 点的 bug 搞错了于是 +0/-2 囧…… #174</p>
<p>秋锅 #72 。令人惊悚的是他现在 rating 还没我小号高 = =||</p>
<p>看到了 DL.uhT 分布式哈希堕落？其实是某盾啦 #93</p>
<p>lydrainbowcat 1k pts 的被 cha 于是 #107 。</p>
<p>至于大叔……哇过了两道诶，虽然速度比较慢但是没爆零了啊～#227 不过 rating 还没他的第一次高……</p>
<p>cjsyj 的 250 pts FST 了？ <code>这不科学</code> ！ #425</p>
<p>This_poet 居然 FST 了 500 pts ？#685 momo</p>
<h1 id="nonsense">nonsense</h1>
<p>今晚 CF 欢迎各位参加～</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/03/06/TC-572/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/03/06/TC-572/" itemprop="url">Topcoder-572</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-03-06T13:00:00+08:00">
                2013-03-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Topcoder/" itemprop="url" rel="index">
                    <span itemprop="name">Topcoder</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/03/06/TC-572/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/03/06/TC-572/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>似乎坑越来越多了……得填填啊。</p>
<p>XLk 去北京学英语了。（而且问他又会黑我的 T_T）</p>
<h1 id="solution">solution</h1>
<h2 id="pts">250 pts</h2>
<p>唔，似乎是水题的样子。</p>
<p>大概就是利用 <code>K</code> 找出每一条链，链上找出出现次数最多的字母，其余的字母全部变为这个字母即可。</p>
<h2 id="pts-1">500 pts</h2>
<p>又是渣手速。</p>
<p>暴搜是会 T 的～hahahaha 感觉只要答案大点就好了。（random 搜怎么破？）</p>
<p>我的方法是这样的：前面 4 位枚举原数，得到所有前四位的匹配情况。后 5 位就可以直接暴搜了。这相当于一个双向搜索，先从某一半开始搜，把所有可能的解全部塞到一个 set 里，从另一半检验的时候就直接在 set 里找了。</p>
<p>用 set 的话可能常数比较大，用个 trie 效果会更好些。不过这无关紧要了，不会 T 的。</p>
<p>话说感觉 TC 的 500 pts 很喜欢出这种暴力题啊。</p>
<h2 id="pts-2">1000 pts</h2>
<p>坑。</p>
<h1 id="situation">situation</h1>
<p>这次 TC 居然是晚上八点。话说 TC 没小号真是让人感到可怕……（xiaodao：rating 是用来跌的！）</p>
<p>于是机房里都在做 TC 。</p>
<p>上次 TC 给我发了个啥邮件，说啥 warning of unused code … 于是这次交之前把模板神马的全删了……</p>
<p>250 这不是水题吗……手速硬伤。只有 237 分了。 T_T</p>
<p>500 想着感觉暴搜很容易过的？但是复杂度不靠谱啊……没敢写，继续 YY ……</p>
<p>突然之间 YY 出来了？写啊写……代码能力越来越差了，写了好久才调出来。只有 270 分了。</p>
<p>看了一下 1000 pts 的题，感觉很厉害的样子，没怎么动心思去想……</p>
<p>然后啥都没做了， Challenge 对我来说一直是打酱油的。</p>
<h1 id="other">other</h1>
<p>大叔又一次没爆零！普大喜奔～</p>
<p>tourist 怒 cha 掉 Petr 的 1000 pts 成功 #1！</p>
<p>我会说 Petr 只靠前两题还有 #4 ？</p>
<p>WJMZBMR #10 。第二题 350+ 太快了啊……</p>
<p>我居然看到了 Gerald ？ #16</p>
<p>某 id 为 ainu7 的神犇只过了第一题，第二题 FST 了。然后他居然连 cha 了 6 个人 #17 ！跪。</p>
<p>然后我就是中规中矩的 #22 ……</p>
<p>还有 Mike Mirzayanov 。CF 的都来了？</p>
<p>edly 说跪了，然后 #35 = =|| 然后怒黑之。</p>
<p>一堆人 FST 了 500 pts 。zhouerjin/xiaodao/NaHS/ChnLich/cherudim9/ryz/wuzhengkai ……momo</p>
<p>有位小朋友在做 div2 ……只交了两道于是 FST * 2 momo</p>
<p>另外 orz huzecong div2 虐场。</p>
<h1 id="nonsense">nonsense</h1>
<p>CF-172 求围观啊～求各位大神虐啊～</p>
<p>前几天某人（特指）进入国家队了，然后 renren 上转了条状态（miffy 的），然后被一群人围观，然后四处被黑 T_T</p>
<p>有必要么！</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/03/01/CF-170/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/03/01/CF-170/" itemprop="url">Codeforces-170</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-03-01T13:00:00+08:00">
                2013-03-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Codeforces/" itemprop="url" rel="index">
                    <span itemprop="name">Codeforces</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/03/01/CF-170/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/03/01/CF-170/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>嘛，wyl8899 问我是不是刷小号……</p>
<p>我才不刷小号呢，我刷的是小小号。</p>
<h1 id="solution">solution</h1>
<h2 id="a">A</h2>
<p>惯例水题。直接用并查集搞搞就可以了。</p>
<p>注意没有一个人会一门语言的情况。我因为这里 WA 了一次。</p>
<h2 id="b">B</h2>
<p>构造。</p>
<p><code>rng_58</code> 的构造方法：对于 <code>m=3</code> 的情况手算，可以证明若 <code>n&gt;4</code> 则无解。于是这里手算很简单的。</p>
<p>然后考虑两条抛物线： <code>y = x^2 + U</code> 与 <code>-y = x^2 + U</code> ，其中 <code>U</code> 是一个很大的数。如果我们在抛物线上选点，由于抛物线的特殊性质（凹还是凸分不清啊 T_T），可以得到如果两个抛物线上都有点被选，那么这样构出的凸包的大小最多是 4 ，所以如果要选择尽量多的点的话，应该是选择某一条抛物线上的所有点。我们令一条抛物线上点的个数为 <code>m</code> 即可。</p>
<h2 id="c">C</h2>
<p>感觉还蛮简单的。</p>
<p>容易知道每行每列都是独立的，我们可以把这看成是若干个不相关的组合游戏。对于每一行/列，我们只关心没有被覆盖的线段的条数。这个可以用排序+点事件维护，也可以直接用 set 暴力维护。</p>
<p>然后把所有的数 xor 起来就是 SG 了。注意一种特殊情况就是初始时没有出现过的行/列。很显然，我们只关心奇偶。</p>
<p>如何输出方案？一行一列枚举下去，如果通过改变这一行/列可以把 SG 变为 0 则找到一组解。</p>
<p>代码量比较大吧。</p>
<h2 id="d">D</h2>
<p>没看懂题目的说……</p>
<h2 id="e">E</h2>
<p>稍稍一想就发现这是水题。</p>
<p>每个点的出点向所有可能的父亲的入点连边，容量 1 费用为距离。源向每个点的出点连边，容量 1 费用 0 。每个点的入点向汇连边，容量 2 费用 0 。跑一遍费用流，如果最大流是 <code>n - 1</code> 那么有解否则无解。如果有解则最小边权和就是最小费用。</p>
<p>大家都蒯模板啊我还老老实实自己打啊。</p>
<h1 id="situation">situation</h1>
<p>本来以为秋锅不做的，结果居然做了。</p>
<p>看完 A 觉得这不是水题吗？于是怒敲代码，写着写着觉得有 bug 于是怒换一种写法。submit 后怒 WA#4 。瞬间想到某特例，加上特判后过 pretest 。</p>
<p>然后 B 。按照惯例，B 应该是水题吧。于是我被惊悚到了，完全不会做啊。YY 了好久想到了用抛物线但就是没想到用两条抛物线。一开始看错题了，以为是要构造一个大小为 n 的点集使得凸包大小恰好是 m 。交了后发现过不了样例才发现看错题了 T_T</p>
<p>瞟了一眼 Dashboard 发现有几个 E 已经出来了，看了一眼 E 觉得不会做。然后看 C 的题目去。看完 C 的题目后发现我会做 E 了 = =|| 于是回去写 E 。1A 。</p>
<p>然后发现 C 不也是水题么。只是处理起来比较麻烦罢了。于是再次怒看错题。然后就没有然后了，1:50 的时候交了个 FST 程序过去。后来调的时候才发现又看错题了 T_T</p>
<p>一看 D 的题目这么长我就直接撤了。目测等我理解完题目 CF 都结束了。</p>
<p>最后 #41 由于是小小号然后还是可以涨的。快追上小号的说～</p>
<h1 id="others">others</h1>
<p>XLk 你真的 AFK 了吗……考完后没人和我聊天了 T_T</p>
<p>scottai1 怒过 ACE 。E 手速还很快的说，于是有 #8 。于是 rating 又超过我了 T_T</p>
<p>wuzhengkai #25 、xiaodao #32 都是 ABE 。我觉得 B 的这个构造很巧妙的说。</p>
<p>watashi 和我一样的，默默 C FST 了。</p>
<p>秋锅 AE #90 。看起来又黄了。</p>
<p>另外我就不吐槽 FredaShi、CatCat、liouzhou_101 三个人的分数都差不多，都是 AB ，提交的时间也差不多，代码也差不多，连 E FST 了都是 T 12 。</p>
<p>ztxz16、sths、edly01、vfleaking 都只过了 A ，而且和我一样，默默 wa 了一次 ……</p>
<p>最后还要吐槽这次 CF 的分数变来变去的，一刷新就发现题目的分数变了。</p>
<h1 id="nonsense">nonsense</h1>
<p>感觉这次 CF 难度很大的说……</p>
<p>然后发现还有人 AK 。</p>
<p>于是感觉 CF#172 也会有好多人 AK 的说。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="roosephu.github.io/2013/02/24/OI-history/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Yuping Luo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="AFAIK">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/02/24/OI-history/" itemprop="url">「完结」OI 生涯回忆录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2013-02-24T13:00:00+08:00">
                2013-02-24
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2013/02/24/OI-history/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2013/02/24/OI-history/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>退役了神马的，写篇回忆录来纪念我的 OI 生涯吧。文采比较差文章比较长章法比较乱废话比较多神马的就不要介意啦。当然，拒绝黑人。</p>
<h1 id="小学">小学</h1>
<p>没听说过 OI 。</p>
<h1 id="初一">初一</h1>
<p>没听说过 OI 。</p>
<h1 id="初二">初二</h1>
<p>没听说过 OI 。</p>
<h1 id="初三">初三</h1>
<p>没听说过 OI 。</p>
<h1 id="我是完美的分割线啦啦啦">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 我是完美的分割线啦啦啦 &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</h1>
<p>轻轻松松写完 9 年 lol = =||</p>
<p>好吧重点是后面的几年。既然 5 个学期就分 5 部分吧。</p>
<h1 id="高一上">高一上</h1>
<p>我初中在一个偏远的小县城里，教育条件显然比不上长沙。一中在当地也算有点名气，每年可以考一两个清北吧。毕竟人家的生源没有长沙那边好。但我老爸想把我送到长沙这边来读书。 <a href="http://zh.wikipedia.org/wiki/长沙四大名校" target="_blank" rel="noopener">长沙四大名校</a> 在我们看来是可望而不可及的。但是老爸要我去试试，结果没想到考上了。</p>
<p>当时老爸联系的是向总，是长郡的信息学总教练。于是考完后就理所当然被拉过去玩玩，大概是在 7 月初的时候吧。初中的时候没接触过 OI ，但是玩电脑倒是玩的蛮多的，加上老爸严厉打击游戏，所以习惯起来不是问题。记得当时我们总共有好几批，我因为来得早被分到了第一批去。这一批除我以外全是初中就开始学的，所以一开始的时候被虐的惨不忍睹。不过当时想的是反正玩玩，又没人认识我是啵 = =|| 。突然记起来当时坐在我旁边的是mt。他天天玩三国杀，我要凑过去围观一下他就会说“搞学习去”= =||</p>
<p>后来又去试了试长沙市一中，似乎也上了。当时我兴趣更大的是数学，这方面一中应该是强一些（现在看还真说不定呢），但是最后还是选择了在长郡搞 OI 。（然后踏上了这条不归路？）具体原因神马的都是历史的尘埃了。</p>
<p>一开始在暑假集训的时候写的都是容易的不能再容易的题……一开始的时候都是要写啥背包问题的吧，别人写个 dp 我居然不知道为啥是对的。我记得当时某一道搜索的练习题，我怎么搜都 TLE ，然后 YY 出了一个想法，写出来后发现可过？然后好开心好开心地告诉谢老师（我指导老师），然后谢老师告诉我：你写的这个东西叫做动态规划，你以后要学的。她还鼓励我继续研究 = =||</p>
<p>暑假的时候，学校搞了几次 NOIP 模拟，我跟着当时的高二学长一起做，当时坐在我旁边的是 xqz ，当时好崇拜的。还请了个老师讲组合数学，于是听了几堂课再也撑不下去了，默默去另一个机房编程去。（结果后来某盾说当时我虐爆全场，因为高二还没学微积分，前面几堂课只有我听懂了 = =||）</p>
<p>军训之前，谢老师说：趁着军训你看看网络流的标号法吧。于是军训的时候无聊看看书，居然看懂了= =|| 军训过后就正式开学了。</p>
<p>开学过后的第一件大事就是准备 NOIP 。谢老师对第一批的说：你们这一批都有拿省一的实力，所以要努力 balabala 之类的。当时我也没太在意，因为知道大部分人都是在高二拿的。由于刚进高中的时候学科还不错，老李（班主任）也就批了我的停课。</p>
<p>当时实在不喜欢 Pascal 的 begin/end ，于是自己动手丰衣足食改 C 。后来才知道，我是学校第一个在高一就转了 C 的人 = =||</p>
<p>准备 NOIP 2010 的日子是我高中最怀念的日子。天天被虐，然后慢慢啃题解，争取每天都把题目做完。时不时地出现了啥集训队题目也不一定的说。实在写不完就算了。每天的生活忙碌而充实。记得当时有个题：求 n! 的末位非 0 数字，全场只有我一个人做出来了，然后还上去讲了讲，所以给小朋友出题时我总喜欢用这个题。另外 xqz 出题的时候出了道最短路的，和某人的集训队答辩题是同一个模型，我当时 YY 了很久，YY 出一个很奇葩的算法居然得了 70 分。后面再来看这程序，似乎我连最短路都不会写的说，用的还是类似于 bellman-ford 的东西…… mt 出了一道题，大概就是单调队列优化，后来 astar 就考了一道一模一样的题。每天看着还剩哪些题没做，争取多做一道。</p>
<p>然后就是 NOIP 2010 了。我也没啥心理压力，做不出就做不出嘛，反正高二有机会呢。第一题水题模拟无压力。第二题初看居然不会做，第三题由于有学长天天念叨二分答案所以 YY 出来了。不过后来前三题都过了。至于第四题（引水入城），我没啥好思路，于是准备拿个部分分走人，然后写着写着 YY 了一个结论，顺手就写了。正解的结论是上面能覆盖下面连续的一段，我的结论是能覆盖下面的一定是上面的连续一段，于是用差分约束系统 YY 了一下。由于对差分约束系统理解不彻底，于是边的方向、边权、初始值搞了好久，大概就是找出所有可能的匹配，然后随便找个没死循环、可以出正确结果的那个构图方法。</p>
<p>出来后向总问我可以打多少分，我说大概 300 吧，向总说 300 省一可能有点困难。我也没往心里去，大不了明年嘛。</p>
<p>回到学校休息了一下，谢老师给我打电话过来告诉我 390 ……我自己都不敢相信……因为我一直不敢相信我那个结论，觉得是数据水得了 90 分。后来告诉高二的学长某盾，他 YY 了好久也没 YY 出反例。然后就不了了之了。倒是高二的一堆人压力大得很，很多人都集中在分数线附近，包括后来进了集训队的 syj 学长。</p>
<p>大概这次 NOIP 之后我就开始放心地搞 OI 了。反正省一已经到手，实在不行回去高考也有几把刷子。NOIP 结束的第二天恰逢月考，于是很悲剧地被拉过去当垫被= =||</p>
<p>鉴于初期发展的很不错，准备 wc2011 顺利翘掉期末考试。我发现我每次外出考试总是考得奇差。wc2011 只有 30 分= =||这也是个打击吧。不过我在想……NOIP 之后我到底干了些啥？我的记忆中只记得两个完全不懂的词：网络单纯形/原始对偶。现在想起来真的是浪费时间啊。这时间要是拿来刷题该多好啊。</p>
<h1 id="高一下">高一下</h1>
<p>高一下期记忆就更少了。一开始的时候是在班上上课，突然之间谢老师找到我说省选快来了你不要准备一下吗我说我最近在准备啊谢老师说我觉得你现在准备的不够充分高二的早就停课了 balabala 的于是我又停课了 = =||</p>
<p>当时高二学长在做模拟题，于是我又跟着过去凑个热闹结果天天被虐，当然有时候小小爆发一下也不一定嘛……正好当时也要准备 APIO 于是就一起训练了。APIO 一去发现被虐残了，只拿了块银牌。据说这次 APIO 比 CTSC 还难。考试的时候坐我旁边的是衡八的 lyx ，我就是这个时候认识他的。当时第二题写的是 60 分算法结果只拿了 10 分。回校后怒调发现一个变量打错了……第一题在最后十分钟又猜了个结论想拿来骗骗分结果没写完，后面发现这就是正解啊……雅礼的似乎也挂了，倒是衡八的两个都是金牌确实可怕。不过当时还不太认识外校的人。</p>
<p>灰溜溜回来继续搞省选。心态依旧，今年进不了我还有明年嘛。</p>
<p>后来去长沙理工大学的时候联系了我爸一学生，于是每次去的时候都蹭了一点零食 lol 。</p>
<p>考完 day1 觉得还好。第一题随手 YY 了个矩阵乘法，写完之后觉得应该大概也许可能约莫十有八九是对的……吧……但是不放心觉得还是写个拍吧。结果拍出错来了= =||。然后其余的题全部暴力。于是 day1 150 分长郡内部排第二。我就不吐槽 t4 是江苏省选原题了。</p>
<p>考完 day2 后表示彻底享受了暴力的愉悦。4 个暴力依次展开。最让我无语的是 day2t1 ，数据你是纯手构让骗分 A 的吧，若干人输个最^10007 没技术含量的下界居然过了。只写了暴力的表示伤不起啊。不过算了，明年还有机会的说。谢老师说可能会改数据，因为这数据水的不科学。还有我 day2t4 的暴力莫名其妙挂了。经检验我的暴力应该是没错的。最后是俩题的数据都改了，于是前面一堆人掉下来，我加了分上去。似乎 220 的有好几个，最后是拼 NOIP 。NOIP 的人品还是少有的爆发了一次，没几个人拼得过我 lol 于是作为省队最后一名进去了。当时的雅礼好可怕，前 6 名被雅礼和南雅包了，xpd 因为学校名额限制被卡了。谢老师是在中午通知我的，我正在睡午觉，赶紧到厕所去接电话。真的很开心～</p>
<p>省选后又回去上课了。然后谢老师说全国赛快来了这是一个很难得的机会你要好好好好珍惜要充分地准备来应对 balabala 于是我又停课了。然后发现省选翘期中 NOI 翘期末真完美 lol 。</p>
<p>接下来是清华夏令营。省队的都去了玩了一下，我也继续跟着高二学长凑热闹。第二题是一个经典的网络流模型，但由于当时水平问题真就不知道做，写了个高斯消元还写挂了。第三题是恶心计算几何题，只想写最简单的情况，出来后才发现最简单的 10 分都没搞到。倒是第一题莫名其妙多了 10 分，调了后发现……我 for 多加了个 break 于是可以多 10 分 lol 。雅礼一堆大神都在这里签了，clj 也签了，我就纯酱油了一次，搞了个啥前 60 的。</p>
<p>然后还有个蛋疼的省队集训。于是谢老师要我出长郡的题= =|| 于是蒯了三道自己觉得还不错的水题结果有几人 AK 好没面子。我居然在湖南省队集训看到了 applepi ？计算几何帝啊。某个题只有俩人有分： dyf AC 以及 lrl 靠着 8K 的特判拿了 70 分，其余全部爆零。结果那天下午准备 dyf 讲做法结果发现他居然没来……另外雅礼汪老师搞了一套极其恶心的学科题：第一题和阶乘有关，第二题要求 <code>B i x/e^x = A i cos(ix) - A sin(ix)</code> 的实数解，不知道 <code>e^{ix} = sin(x) + i cos(x)</code> 的话还真就不好办，当时我还教了 zpl 如何证明这个式子 = =||。第三题是一个物理题，以前在物理组闲逛的时候拿起一半书随手一翻看到了基尔霍夫两大定理然后就可做了。</p>
<p>蛋疼的省队集训后就是全国赛了。不得不吐槽住宿条件。day1 的时候感觉还不错。第二题 YY 了一个奇葩的调整居然过了。可惜了第三题没写暴力， 60 分啊亲。day2 居然碰上了 NOIP 级大水题，T2 不会做，T3 我就不吐槽是原题了，然后……更让我惊讶的是搜索居然有 60 分……我又没写。于是银牌垫底，自然没进集训队，大概随便写个暴力就可以了吧。THU 的那个啥前 60 的自然报废了。 PKU 嘛，不太感兴趣于是就直接开溜了。这次 NOI 长郡还是很颓。耀爷 xqz 去了上交，某盾 THU ，syj 去了 PKU 。</p>
<p>NOI 告一段落，也标记着高一的正式结束，当然也标记着————假期的开始～有 5 天的假期哦亲～于是高一的寒暑假加起来恰好 10 天……</p>
<h1 id="高二上">高二上</h1>
<p>高二上期算得上是比较轻松的一个学期吧。</p>
<p>刚开学的时候有个湖南 ACM 比赛，于是谢老师让我在学校里挑人组一个队，看能打到什么水平。于是我就挑了个翻译官加一个水平相对较强的。由于一开始的时候误操作，导致开场的 30min 没有提交，罚时很惨烈的。翻译官拿着字典努力地查单词，然后发现翻译出了一个神题 = =|| 我后来又看了下题目发现这是个水题囧。这次 ACM 最坑的是一个最短路的题。看完题目后觉得这不是个水题么，最短路乱搞一下就可以过了啊。于是速写 SPFA ，怒 TLE 无压力。发现这个图是个网格图的说，怒写 DijkHeap ，怒 TLE 无压力。于是感觉这个题不对啊一定是打开方式有问题，于是搁一边把其余的水题做了。最后还有感觉某 dp 题和这个题比较可做，决定先把这个题搞掉再想那个。于是开始二分错误，甚至到了只读入的程度，怒 TLE 无压力。于是请求管理员验证数据，得到消息没问题……然后最后就卡在这个题上了。同校的另一支队伍也是二分错误在哪里，最后提交了 38 次，排在同题数的最后一名。最后的错误是啥呢？明明数据范围中写的是 100 ，同校的把范围改成 200 就过了。这不坑爹么～然后顺祝身份证和钱包一起消失在湖南农业大学的尘埃之中。</p>
<p>然后又迎来群众喜闻乐见的 NOIP 。话说有个同学去年和我一起拿了省一，然后……出于未知原因转到化学组去虐场了。这次 NOIP 正式给同学出了套题，然后被吐槽坑爹无限 = =|| 平均分也有 150+ 好不好？我们出题要讲究平均分是啵。如何提高平均分？要么把题目出水一点，要么就……我们有平均分帮手！把 std 复制若干遍就会形成若干个平均分帮手的亲～对应的也就有平均分杀手，把一个空文件夹复制若干遍即可。于是每天都上演着帮手与杀手的斗争。而且空文件夹的名字还要有技巧，你可以 YY 若干个看起来很正常的名字叫出题人没法区分 lol 。当然我的题是第一个考的，该机制尚未成熟所以躲过了其伤害 lol</p>
<p>考 NOIP 的时候我还是没压力，原因你懂的。Day1t3 mayan 准备写个 hash 判重目测可以快很多的，但是 hash 的时候写挂了，忘记把某个量 hash 进去了，结果剪枝错误导致只有 60 分。Day2t3 觉得是贪心啊，于是 YY 了好久的贪心感觉也是对的，于是……不好拍啊亲～于是这个题就只有 10 分了 T_T 这次 NOIP 学校的高分不多，400 分的分数线，最高分就是高三的 cy 490 ，然后就是我 470 了。于是还被批了一顿的说。</p>
<p>陆续的很多同学走了。有人拿了省一就撤了，有人没拿省一也准备撤。经过一定的选拔，最后还剩下 12 个人。陆陆续续又走了两个。NOIP 时热闹非凡的机房冷清下来。然后被拉着考了次期中考试。这大慨是我高中以来唯一一次期中/期末吧。</p>
<p>然后又是一次 WC 。然后和某盾、基哥分在一个房间很和谐的。（某盾你改我签名我还记着呢）我想起为了让某盾起床，我决定把我的手机（也就是闹钟）放在他那边。第二天早上，我被吵醒了，某盾表示毫无压力。另一件事就是，王教授在讲 CEOI 某 KMP 的题的时候，某盾上去讲，说这个题他是用平衡树维护 hash 来做的，然后突然之间扯到我，说我们学校的小朋友会一种线性的方法 balabala 的，然后我就光荣上场了 = =|| 。当然，王教授讲课一如既往的催眠。吴翼带了一些 IIIS 的糖，于是怒回答问题拿糖去。</p>
<p>WC 考试的时候，感觉题目完全不会做，所学的知识完全派不上用场。第一题 mst 拿了最暴力 30 分，第二题 memory 写的是 50 分算法，但很奇怪的写挂了，似乎某个地方想偷点懒，结果偷鸡不成反蚀把米暴力写挂了。最后一题又是个恶心的游戏题，实在是坑爹啊！有人写了个 GUI ，整个考试都在玩这个游戏，于是他神奇地拿了 80+pts 太可怕了。我随便输了个可行解拿了 6 分，最后总分就 66 分混了个二等奖。</p>
<h1 id="高二下">高二下</h1>
<p>高二下期就是真正的竞赛时期了。</p>
<p>这个学期除了为了应付水考而回去上了半个月的课外，其余时间全呆在机房。那也算得上是一次难忘的经历，我觉得紧张程度不输于高三。每天脑袋里想的都是做题。到外面吃饭等饭时在想题，睡觉前也要想题。整个人就像泡在题海中一样。这直接导致后来睡觉之前不想题就睡不着了 = =||</p>
<p>首先是准备 CTSC 。于是那一段时间的模拟题都属于比较恶心的状态。CTSC 我倒是考得蛮好的，具体原因大概是 day1t2 那个啥电阻的题写了 60 分算法，day2t1 由于在之前研究过后缀自动机，所以在调了 3h 程序以及调了 1h 暴力后终于 A 了，其余的题把暴力写完就有金牌了。这么说来有一件很囧的事，day1t3 是一个提交答案题，每个题输出 0 就可以得到 1 分，我有两个点打错文件名了导致少了 2 分。后来想着两分也决定不了什么是吧。然后……然后……xhr 225 分，我 226 分，xpd 227 分，gsh 228 分。整个人都木了。不过非集训队第四也是个不错的成绩了。另外不得不提某盾，最后那句“在最后一次 OI 考试中帅气的做出一道很难的计算几何题”真的让人很感动，不过对应的也使得向总有点失落。某盾你的小秘密还藏着呢。</p>
<p>接下来就是湖南 OIer 万众瞩目的省选了。省选前我的状态不太好，于是老李还特意找了我谈话，大概就是高原反应 balabala 的。然后大大夸了我一番，说啥你的竞赛水平一流进省队没问题的，啥实在没进省队我们还有保送生考试的，啥没进省队保送生考试那天生病了没去我们还有自主招生的，啥自招没过我们还有高考还有 20 分加分还有很多充足时间你可以赶上的。其实我没啥担心的说，我就觉得，去年都进了，今年进省队应该没啥问题的，争取好好考进 A 队的说。</p>
<p>湖南省选向来以坑爹著称，上次 day2t1 真是让人难忘啊，不知道这次会玩出啥花样。day1 考完的时候自我感觉很不错的，因为我主攻前两题，第一题 A 掉应该是没问题的，第二题 YY 了一个结论，最后数位 dp 不会写是神马情况？结果发现惨跪啊，后两题比前两题好拿分的多。第三题就是一个简单的排列组合题，把小学的我拉过来绝对推出公式没问题。可是这次就写了个暴力 dp 10 分哭了，最后一题写都没写。第二题全场最高分就 40 分，但后来观察数据发现不写数位 dp 写搜索都可过啊亲～第一题数据超水直接暴力可以拿 90 分啊亲～所以 day1 就 150 ，排名已经是十几名去了，先别说 A 队先进了 B 队再说。</p>
<p>于是 day2 拿到题目。完了第一题不会做，完了第二题不会做。再一看，第三题不是 lrj 讲过的裸启发式合并平衡树吗？1h 怒敲。第四题我记得在 Matrix67 的 blog 上看过的，某状压 dp ，于是 YY 了一下再对拍了一下没问题就撤了。可是前俩题真心不会做啊。于是第二题把式子化一化之类的发现可以动态维护凸包 = =|| 这货太难写肯定写不出来于是我就暴力维护凸包吧，发现再好写不过了 40 分到手。第一题就写个扫描线算了吧，算算期望似乎有 80 分呢亲。感觉 day2 平均分绝对没有 330 的说于是进队应该没问题。最后发现 day2t1 写挂了，80 分不见了哭。其余的分倒是拿到了。最后两天总分 390 感觉有点点悬啊。</p>
<p>最后成绩排下来居然可以排到第四？一中 jtc 和我同分，A 队必须有个女生导致男生只有 4 个名额，于是又 PK NOIP 。完了我 NOIP 只有 470 啊，结果发现 jtc 比我少 10 分 lol 省队分数线恰好 300 ，结果 300 的有 3 个，只有 2 个名额了，于是天聪凭着 NOIP 10 分的优势抢到一个名额。然后我在想————现在看起来我们的 NOIP 似乎考得不错？ lol</p>
<p>然后又有人离开了。这次走的是本性，算得上是我认识的所有 OIer 里面和我关系最好的一个了。他离分数线差 10 分。上次 NOIP 离分数线差 15 分。也算得上一个悲剧男了。秋锅和整容都挂了。我看到他们在长沙理工大学的路上走着，走着，说不出的眼神。</p>
<p>然后又有个蛋疼的清华夏令营。省队的四个人一起去打打酱油。轩犇拿出去年的笔记本，发现讲的内容一模一样，然后有人爆料连学长的演讲稿都几年没变了。算了算了这不是重点。首先我习惯不了键盘， <code>|</code> 键的位置习惯不了，而且我写程序需要键盘的空格一定要灵，没空格会死星人一个，另外编程环境也是一个很囧的问题——windows 下有 xmodmap 吗？。不过再怎么说也改变不了跪的本质，第一题大水题我写了 2h 还调了好久的暴力。第二题想写个按时间分治的算法结果没写出来怒跪，第三题根本就没想。后来发现第三题不就是一个裸模型吗，考场上智商捉鸡啊。最后居然还进了面试？感动的要哭了。面试官问我：“你觉得你和 lzn 谁更厉害些？”我：“……”问：“从古至今你最欣赏哪位科学家？”我想起了 Donald.E.Knuth 但是忘了他的中文名是高纳德还是高德纳了，于是随便 YY 了一个，然后我看到面试官笑了一下。然后他还要我介绍一下 Knuth ，装逼失败……凭记忆随便 YY 了几件事。然后他还问我 TeX 怎么读，我还真就不知道 = =||</p>
<p>然后莫名其妙就直签了。我怎么看都觉得我这成绩过不了的啊。</p>
<p>在这里见识到了许多神犇。见到了高高帅帅的 XLk （我只敢远眺之，他怎么可能认识我），见到了一个抵俩的 kAc ，以及 cp 。当时没几个人认识我的吧。等待面试的时候认识了 xhr 。也还算得上拓宽了眼界吧。</p>
<p>然后又是省队集训。pty 天天惨无人道地虐场，人民群众表示强烈不满。我又是送了一套水题的说。xpd 和 xcr 似乎都是不想写程序的，基本上没交题。不过在这里认识了 fotile 主席还真是让人感到惊喜啊。省队集训的时候雅礼的陈老师把 HN 的几个人凑起来做团抗，全明星阵容：清华夏令营直签的 4 位加上 zpl/ayq ，算得上是顶尖配置了。但是最后团抗效果却不咋地，诶……</p>
<p>最后是全国 OIer 最大的欢庆：NOI。省常中伙食蛮不错的说。我就不吐槽住女生宿舍了，不过除了这一点外无可挑剔。我对他们的生活老师印象极其深刻，非常热情，有什么问题都可以去找他们。省常中真心高富帅啊，居然每人送一个箱包，还有 Google 赞助的说。</p>
<p>说到欢庆，我就想到整容。他在我们出发前夕才得到确切消息，他不能参加全国赛了。但他的坚强真心让人感动。挫折，让人生更美丽，让生活更美好，让意志更坚强。出发的早上，他赶来送我们，给了我们每个人一个本子，里面有他画的一幅画。心里一股暖流流淌。</p>
<p>NOI 倒也还是考得可以。d1t2 真心不会拍，于是把手解方程和二分一起拍，d1t3 只看过树上的，二维平面上的不会做了，于是就三种情况分别处理，期望得分 80 吧。但是第二种情况写挂了，但第三种期望只有 20 的但居然有 40 ，所以这个题 60 分，然后 d1 260 也不错了。春宵 d1 280，他第三题交换了行列于是有 80 分。d2 就跪了。第二题大家都会的网络流我不会，第三题又是一个恶心的游戏题，还不给 demo 的，于是全部暴力只有 100+20+23=143 分。一开始吃饭的时候说 XLk 要虐场了，大家都会做第二题，于是感觉前途无望啊。后来发现 day1 实在是考得太好了，就 day2 这渣水平居然还可以拿金牌 = =|| 不敢想象。NOI 的结果呢，几家欢乐几家悲。</p>
<p>NOI 的时候正式认识了 XLk 、学军众犇。考完之后去杭州转了一下，参观了学军神校并巧妙把节操全部送了 qdc ，感谢 ryz 给我们提供的导游服务呢。</p>
<p>（好像今天码了 2h 的字。下次再填坑吧。）</p>
<h1 id="高三上">高三上</h1>
<p>高三算得上是比较轻松的了，起码有大学上了。</p>
<p>于是高二暑假的时候谢老师给我放了十多天的假，我和老爸四处旅游，倒也是玩了很多地方呢。</p>
<p>在贵州玩的时候闲着无聊，参加了 tyvj 上办的一些 NOIP 模拟赛，顺便还参加了 vijos 复活赛，还赚了件衣服回来呢。</p>
<p>回到学校后又开始搞培训了。首先是和学军一起集训了一下，快 IOI 了李超要集训的说。国家队出去之前要搞了个啥集训，于是 hwd 找谢老师要题，于是我和 cwx 就被狠狠地坑了一把 = =|| 。本来还想用 ryz 的一道题的，后来一看情况不对立刻换题，否则就囧了。</p>
<p>然后迎来人生第三次 NOIP 。这次就变成出题者了。当然我的题照样是第一个考。</p>
<p>NOIP 又去酱油了一次。d1 的题做的比较轻松，做完后大概还剩 1h 的样子，于是玩 Emacs 自带的贪吃蛇、五子棋、俄罗斯方块玩过去了。d2 就做的比较囧了，一看 d2t2 觉得是标记线段树无误，速写发现过不了常数被卡了……于是赶紧转二分 + 线性判定，发现还是会超，最后加了一个 ws 的常数优化后大概要跑 0.7s 左右差不多可过吧。虽然最后写出来了但是心情被弄得大糟。d2t3 YY 了一下觉得贪心往根上走应该是可以的，为了维护的需要又写了个倍增，最后发现沙茶了 dfs 一遍就可以了。还有这个题该怎么拍啊……于是我脑拍了几组数据觉得没错就算了吧 = =||</p>
<p>最后出来的时候觉得 d2t2 很可能会 T 一堆点 d2t3 很可能全 WA 。结果居然 AK 了……我都不知道当初是怎样的手气。</p>
<p>在 NOIP 的时候借口刷题逃了若干神级 NOIP 模拟题，然后就迎来了集训队作业，于是我和 cwx 开始刷集训队作业。速度嘛，似乎我要快一点的说，不过也差不多啦。话说集训队作业给我们很大的帮助就是，以后出题可以从作业里蒯好多呢。</p>
<p>然后就要到北京集训去了。这次给我的打击很大的说。 day1 考得还不错，原因是 day1 题目比较水，而且若干人看错题了。当时我是闲着无聊看了看 t3 的样例解释发现和我理解的不一样，重新看一遍题目发现我看错题了，于是速改，在考试结束前 10min 改出来了，zpl 说他看的好惊悚的。day2 就怒跪了。我坐在 jzp 旁边，看着 jzp 开始写 splay 维护凸包。他写的比我晚，代码比我长，但是写完的比我早……被虐爆了。最后我还是没调出来，就交了个暴力上去。后来发现最可做的 t1 理解错题了。day3 day4 相继跪掉，于是最后排名是在十几，压力非常大的呢。</p>
<p>回来的那几天心情特别不好的说。后来 zrx 说我那几天看起来好恐怖的，和以前的很不一样了。一种从未有过的悲伤。</p>
<p>后来就是一直在考试，顺便刷刷 TC/CF 之类的。然后就是 WC 了。</p>
<p>WC 嘛，就是 OI 生涯的重点。考试前一天晚上，心理防线被谢老师和向总攻破。哀兵必胜？sigh 。</p>
<p>一开始我想写的是 100 + 70 + 30 ，结果发现 100 写不完，于是准备写 50 + 70 + 30 。最后 50 写挂了，所谓的“禁区”这个点没有处理好。如果当时能够再测一下其余数据神马的，结局或许就不同了。不过现在怎么说都没用，每个人都有自己的一段黑历史。</p>
<h1 id="epilogue">Epilogue</h1>
<p>回顾我的 OI 生涯，发现前面都是一帆风顺的。习惯了成功，才会有如此的挫折感。期望越大，失落越大。这一次的失败，对我也是另一种锻炼吧。</p>
<p>一段坎坷的人生也是一段经历。想起了昨天不敢用大号做 TCO 13 R1A 时， xiaodao 说的：rating 不就是用来跌的吗？习惯了 TC 的涨，跌跌又何妨呢。人生大起大落的刺激，又有几人能享受到？给别人看你表现的最完美的一面，却看着失败的一面哀伤。自己了解自己，却害怕别人了解自己，也活得累呢。</p>
<pre><code>你抬头看着天
洒一身红太阳
也许心中不在感到受伤

送你希望  送你力量
愿你一路走好别彷徨
明天总会不一样
日子更久长</code></pre>
<p>后会有期。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/8/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/10/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Yuping Luo</p>
              <p class="site-description motion-element" itemprop="description">Valar Morghulis</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">117</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://www.google.com/+YupingLuo" target="_blank" title="Google+">
                      
                        <i class="fa fa-fw fa-globe"></i>Google+</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/roosephu" target="_blank" title="Github">
                      
                        <i class="fa fa-fw fa-globe"></i>Github</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.facebook.com/yuping.luo.96" target="_blank" title="Facebook">
                      
                        <i class="fa fa-fw fa-globe"></i>Facebook</a>
                  </span>
                
            </div>
          

          
          
            <div class="cc-license motion-element" itemprop="license">
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
                <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
              </a>
            </div>
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yuping Luo</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  

    
      <script id="dsq-count-scr" src="https://roosephus-blog.disqus.com/count.js" async></script>
    

    

  

















  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
